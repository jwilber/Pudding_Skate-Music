/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _lodash = __webpack_require__(1);\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _isMobile = __webpack_require__(3);\n\nvar _isMobile2 = _interopRequireDefault(_isMobile);\n\nvar _graphic = __webpack_require__(4);\n\nvar _graphic2 = _interopRequireDefault(_graphic);\n\nvar _joyplot = __webpack_require__(5);\n\nvar _joyplot2 = _interopRequireDefault(_joyplot);\n\nvar _new_test = __webpack_require__(6);\n\nvar _new_test2 = _interopRequireDefault(_new_test);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar bodySel = d3.select('body'); // D3 is included by globally by default\n\nvar previousWidth = 0;\n\nfunction resize() {\n\tvar width = bodySel.node().offsetWidth;\n\tif (previousWidth !== width) {\n\t\tpreviousWidth = width;\n\t\t_graphic2.default.resize();\n\t}\n}\n\nfunction init() {\n\t// add mobile class to body tag\n\tbodySel.classed('is-mobile', _isMobile2.default.any());\n\t// setup resize event\n\twindow.addEventListener('resize', (0, _lodash2.default)(resize, 150));\n\t// kick off graphic code\n\t_graphic2.default.init();\n\n\t//joyplot enter\n\t_joyplot2.default.init();\n\n\t//new_test enter\n\t_new_test2.default.init();\n}\n\ninit();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvanMvZW50cnkuanM/YjE2NSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBEMyBpcyBpbmNsdWRlZCBieSBnbG9iYWxseSBieSBkZWZhdWx0XG5pbXBvcnQgZGVib3VuY2UgZnJvbSAnbG9kYXNoLmRlYm91bmNlJztcbmltcG9ydCBpc01vYmlsZSBmcm9tICcuL3V0aWxzL2lzLW1vYmlsZSc7XG5pbXBvcnQgZ3JhcGhpYyBmcm9tICcuL2dyYXBoaWMnO1xuaW1wb3J0IGpveXBsb3QgZnJvbSAnLi9qb3lwbG90JztcbmltcG9ydCBuZXdfdGVzdCBmcm9tICcuL25ld190ZXN0JztcblxuY29uc3QgYm9keVNlbCA9IGQzLnNlbGVjdCgnYm9keScpO1xubGV0IHByZXZpb3VzV2lkdGggPSAwO1xuXG5mdW5jdGlvbiByZXNpemUoKSB7XG5cdGNvbnN0IHdpZHRoID0gYm9keVNlbC5ub2RlKCkub2Zmc2V0V2lkdGg7XG5cdGlmIChwcmV2aW91c1dpZHRoICE9PSB3aWR0aCkge1xuXHRcdHByZXZpb3VzV2lkdGggPSB3aWR0aDtcblx0XHRncmFwaGljLnJlc2l6ZSgpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGluaXQoKSB7XG5cdC8vIGFkZCBtb2JpbGUgY2xhc3MgdG8gYm9keSB0YWdcblx0Ym9keVNlbC5jbGFzc2VkKCdpcy1tb2JpbGUnLCBpc01vYmlsZS5hbnkoKSk7XG5cdC8vIHNldHVwIHJlc2l6ZSBldmVudFxuXHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgZGVib3VuY2UocmVzaXplLCAxNTApKTtcblx0Ly8ga2ljayBvZmYgZ3JhcGhpYyBjb2RlXG5cdGdyYXBoaWMuaW5pdCgpO1xuXG5cdC8vam95cGxvdCBlbnRlclxuXHRqb3lwbG90LmluaXQoKTtcblxuXHQvL25ld190ZXN0IGVudGVyXG5cdG5ld190ZXN0LmluaXQoKVxufVxuXG5pbml0KCk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc3JjL2pzL2VudHJ5LmpzIl0sIm1hcHBpbmdzIjoiOztBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7Ozs7O0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///0\n");

/***/ }),
/* 1 */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(global) {/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = debounce;\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2guZGVib3VuY2UvaW5kZXguanM/Y2I1YiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIGxvZGFzaCAoQ3VzdG9tIEJ1aWxkKSA8aHR0cHM6Ly9sb2Rhc2guY29tLz5cbiAqIEJ1aWxkOiBgbG9kYXNoIG1vZHVsYXJpemUgZXhwb3J0cz1cIm5wbVwiIC1vIC4vYFxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnMgPGh0dHBzOi8vanF1ZXJ5Lm9yZy8+XG4gKiBSZWxlYXNlZCB1bmRlciBNSVQgbGljZW5zZSA8aHR0cHM6Ly9sb2Rhc2guY29tL2xpY2Vuc2U+XG4gKiBCYXNlZCBvbiBVbmRlcnNjb3JlLmpzIDEuOC4zIDxodHRwOi8vdW5kZXJzY29yZWpzLm9yZy9MSUNFTlNFPlxuICogQ29weXJpZ2h0IEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG4gKi9cblxuLyoqIFVzZWQgYXMgdGhlIGBUeXBlRXJyb3JgIG1lc3NhZ2UgZm9yIFwiRnVuY3Rpb25zXCIgbWV0aG9kcy4gKi9cbnZhciBGVU5DX0VSUk9SX1RFWFQgPSAnRXhwZWN0ZWQgYSBmdW5jdGlvbic7XG5cbi8qKiBVc2VkIGFzIHJlZmVyZW5jZXMgZm9yIHZhcmlvdXMgYE51bWJlcmAgY29uc3RhbnRzLiAqL1xudmFyIE5BTiA9IDAgLyAwO1xuXG4vKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG52YXIgc3ltYm9sVGFnID0gJ1tvYmplY3QgU3ltYm9sXSc7XG5cbi8qKiBVc2VkIHRvIG1hdGNoIGxlYWRpbmcgYW5kIHRyYWlsaW5nIHdoaXRlc3BhY2UuICovXG52YXIgcmVUcmltID0gL15cXHMrfFxccyskL2c7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBiYWQgc2lnbmVkIGhleGFkZWNpbWFsIHN0cmluZyB2YWx1ZXMuICovXG52YXIgcmVJc0JhZEhleCA9IC9eWy0rXTB4WzAtOWEtZl0rJC9pO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgYmluYXJ5IHN0cmluZyB2YWx1ZXMuICovXG52YXIgcmVJc0JpbmFyeSA9IC9eMGJbMDFdKyQvaTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IG9jdGFsIHN0cmluZyB2YWx1ZXMuICovXG52YXIgcmVJc09jdGFsID0gL14wb1swLTddKyQvaTtcblxuLyoqIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIHdpdGhvdXQgYSBkZXBlbmRlbmN5IG9uIGByb290YC4gKi9cbnZhciBmcmVlUGFyc2VJbnQgPSBwYXJzZUludDtcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBnbG9iYWxgIGZyb20gTm9kZS5qcy4gKi9cbnZhciBmcmVlR2xvYmFsID0gdHlwZW9mIGdsb2JhbCA9PSAnb2JqZWN0JyAmJiBnbG9iYWwgJiYgZ2xvYmFsLk9iamVjdCA9PT0gT2JqZWN0ICYmIGdsb2JhbDtcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBzZWxmYC4gKi9cbnZhciBmcmVlU2VsZiA9IHR5cGVvZiBzZWxmID09ICdvYmplY3QnICYmIHNlbGYgJiYgc2VsZi5PYmplY3QgPT09IE9iamVjdCAmJiBzZWxmO1xuXG4vKiogVXNlZCBhcyBhIHJlZmVyZW5jZSB0byB0aGUgZ2xvYmFsIG9iamVjdC4gKi9cbnZhciByb290ID0gZnJlZUdsb2JhbCB8fCBmcmVlU2VsZiB8fCBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKipcbiAqIFVzZWQgdG8gcmVzb2x2ZSB0aGVcbiAqIFtgdG9TdHJpbmdUYWdgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nKVxuICogb2YgdmFsdWVzLlxuICovXG52YXIgb2JqZWN0VG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcblxuLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgZm9yIHRob3NlIHdpdGggdGhlIHNhbWUgbmFtZSBhcyBvdGhlciBgbG9kYXNoYCBtZXRob2RzLiAqL1xudmFyIG5hdGl2ZU1heCA9IE1hdGgubWF4LFxuICAgIG5hdGl2ZU1pbiA9IE1hdGgubWluO1xuXG4vKipcbiAqIEdldHMgdGhlIHRpbWVzdGFtcCBvZiB0aGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0aGF0IGhhdmUgZWxhcHNlZCBzaW5jZVxuICogdGhlIFVuaXggZXBvY2ggKDEgSmFudWFyeSAxOTcwIDAwOjAwOjAwIFVUQykuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAyLjQuMFxuICogQGNhdGVnb3J5IERhdGVcbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHRpbWVzdGFtcC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5kZWZlcihmdW5jdGlvbihzdGFtcCkge1xuICogICBjb25zb2xlLmxvZyhfLm5vdygpIC0gc3RhbXApO1xuICogfSwgXy5ub3coKSk7XG4gKiAvLyA9PiBMb2dzIHRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIGl0IHRvb2sgZm9yIHRoZSBkZWZlcnJlZCBpbnZvY2F0aW9uLlxuICovXG52YXIgbm93ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiByb290LkRhdGUubm93KCk7XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBkZWJvdW5jZWQgZnVuY3Rpb24gdGhhdCBkZWxheXMgaW52b2tpbmcgYGZ1bmNgIHVudGlsIGFmdGVyIGB3YWl0YFxuICogbWlsbGlzZWNvbmRzIGhhdmUgZWxhcHNlZCBzaW5jZSB0aGUgbGFzdCB0aW1lIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb24gd2FzXG4gKiBpbnZva2VkLiBUaGUgZGVib3VuY2VkIGZ1bmN0aW9uIGNvbWVzIHdpdGggYSBgY2FuY2VsYCBtZXRob2QgdG8gY2FuY2VsXG4gKiBkZWxheWVkIGBmdW5jYCBpbnZvY2F0aW9ucyBhbmQgYSBgZmx1c2hgIG1ldGhvZCB0byBpbW1lZGlhdGVseSBpbnZva2UgdGhlbS5cbiAqIFByb3ZpZGUgYG9wdGlvbnNgIHRvIGluZGljYXRlIHdoZXRoZXIgYGZ1bmNgIHNob3VsZCBiZSBpbnZva2VkIG9uIHRoZVxuICogbGVhZGluZyBhbmQvb3IgdHJhaWxpbmcgZWRnZSBvZiB0aGUgYHdhaXRgIHRpbWVvdXQuIFRoZSBgZnVuY2AgaXMgaW52b2tlZFxuICogd2l0aCB0aGUgbGFzdCBhcmd1bWVudHMgcHJvdmlkZWQgdG8gdGhlIGRlYm91bmNlZCBmdW5jdGlvbi4gU3Vic2VxdWVudFxuICogY2FsbHMgdG8gdGhlIGRlYm91bmNlZCBmdW5jdGlvbiByZXR1cm4gdGhlIHJlc3VsdCBvZiB0aGUgbGFzdCBgZnVuY2BcbiAqIGludm9jYXRpb24uXG4gKlxuICogKipOb3RlOioqIElmIGBsZWFkaW5nYCBhbmQgYHRyYWlsaW5nYCBvcHRpb25zIGFyZSBgdHJ1ZWAsIGBmdW5jYCBpc1xuICogaW52b2tlZCBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dCBvbmx5IGlmIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb25cbiAqIGlzIGludm9rZWQgbW9yZSB0aGFuIG9uY2UgZHVyaW5nIHRoZSBgd2FpdGAgdGltZW91dC5cbiAqXG4gKiBJZiBgd2FpdGAgaXMgYDBgIGFuZCBgbGVhZGluZ2AgaXMgYGZhbHNlYCwgYGZ1bmNgIGludm9jYXRpb24gaXMgZGVmZXJyZWRcbiAqIHVudGlsIHRvIHRoZSBuZXh0IHRpY2ssIHNpbWlsYXIgdG8gYHNldFRpbWVvdXRgIHdpdGggYSB0aW1lb3V0IG9mIGAwYC5cbiAqXG4gKiBTZWUgW0RhdmlkIENvcmJhY2hvJ3MgYXJ0aWNsZV0oaHR0cHM6Ly9jc3MtdHJpY2tzLmNvbS9kZWJvdW5jaW5nLXRocm90dGxpbmctZXhwbGFpbmVkLWV4YW1wbGVzLylcbiAqIGZvciBkZXRhaWxzIG92ZXIgdGhlIGRpZmZlcmVuY2VzIGJldHdlZW4gYF8uZGVib3VuY2VgIGFuZCBgXy50aHJvdHRsZWAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBkZWJvdW5jZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbd2FpdD0wXSBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byBkZWxheS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gVGhlIG9wdGlvbnMgb2JqZWN0LlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5sZWFkaW5nPWZhbHNlXVxuICogIFNwZWNpZnkgaW52b2tpbmcgb24gdGhlIGxlYWRpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5tYXhXYWl0XVxuICogIFRoZSBtYXhpbXVtIHRpbWUgYGZ1bmNgIGlzIGFsbG93ZWQgdG8gYmUgZGVsYXllZCBiZWZvcmUgaXQncyBpbnZva2VkLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50cmFpbGluZz10cnVlXVxuICogIFNwZWNpZnkgaW52b2tpbmcgb24gdGhlIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBkZWJvdW5jZWQgZnVuY3Rpb24uXG4gKiBAZXhhbXBsZVxuICpcbiAqIC8vIEF2b2lkIGNvc3RseSBjYWxjdWxhdGlvbnMgd2hpbGUgdGhlIHdpbmRvdyBzaXplIGlzIGluIGZsdXguXG4gKiBqUXVlcnkod2luZG93KS5vbigncmVzaXplJywgXy5kZWJvdW5jZShjYWxjdWxhdGVMYXlvdXQsIDE1MCkpO1xuICpcbiAqIC8vIEludm9rZSBgc2VuZE1haWxgIHdoZW4gY2xpY2tlZCwgZGVib3VuY2luZyBzdWJzZXF1ZW50IGNhbGxzLlxuICogalF1ZXJ5KGVsZW1lbnQpLm9uKCdjbGljaycsIF8uZGVib3VuY2Uoc2VuZE1haWwsIDMwMCwge1xuICogICAnbGVhZGluZyc6IHRydWUsXG4gKiAgICd0cmFpbGluZyc6IGZhbHNlXG4gKiB9KSk7XG4gKlxuICogLy8gRW5zdXJlIGBiYXRjaExvZ2AgaXMgaW52b2tlZCBvbmNlIGFmdGVyIDEgc2Vjb25kIG9mIGRlYm91bmNlZCBjYWxscy5cbiAqIHZhciBkZWJvdW5jZWQgPSBfLmRlYm91bmNlKGJhdGNoTG9nLCAyNTAsIHsgJ21heFdhaXQnOiAxMDAwIH0pO1xuICogdmFyIHNvdXJjZSA9IG5ldyBFdmVudFNvdXJjZSgnL3N0cmVhbScpO1xuICogalF1ZXJ5KHNvdXJjZSkub24oJ21lc3NhZ2UnLCBkZWJvdW5jZWQpO1xuICpcbiAqIC8vIENhbmNlbCB0aGUgdHJhaWxpbmcgZGVib3VuY2VkIGludm9jYXRpb24uXG4gKiBqUXVlcnkod2luZG93KS5vbigncG9wc3RhdGUnLCBkZWJvdW5jZWQuY2FuY2VsKTtcbiAqL1xuZnVuY3Rpb24gZGVib3VuY2UoZnVuYywgd2FpdCwgb3B0aW9ucykge1xuICB2YXIgbGFzdEFyZ3MsXG4gICAgICBsYXN0VGhpcyxcbiAgICAgIG1heFdhaXQsXG4gICAgICByZXN1bHQsXG4gICAgICB0aW1lcklkLFxuICAgICAgbGFzdENhbGxUaW1lLFxuICAgICAgbGFzdEludm9rZVRpbWUgPSAwLFxuICAgICAgbGVhZGluZyA9IGZhbHNlLFxuICAgICAgbWF4aW5nID0gZmFsc2UsXG4gICAgICB0cmFpbGluZyA9IHRydWU7XG5cbiAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gIH1cbiAgd2FpdCA9IHRvTnVtYmVyKHdhaXQpIHx8IDA7XG4gIGlmIChpc09iamVjdChvcHRpb25zKSkge1xuICAgIGxlYWRpbmcgPSAhIW9wdGlvbnMubGVhZGluZztcbiAgICBtYXhpbmcgPSAnbWF4V2FpdCcgaW4gb3B0aW9ucztcbiAgICBtYXhXYWl0ID0gbWF4aW5nID8gbmF0aXZlTWF4KHRvTnVtYmVyKG9wdGlvbnMubWF4V2FpdCkgfHwgMCwgd2FpdCkgOiBtYXhXYWl0O1xuICAgIHRyYWlsaW5nID0gJ3RyYWlsaW5nJyBpbiBvcHRpb25zID8gISFvcHRpb25zLnRyYWlsaW5nIDogdHJhaWxpbmc7XG4gIH1cblxuICBmdW5jdGlvbiBpbnZva2VGdW5jKHRpbWUpIHtcbiAgICB2YXIgYXJncyA9IGxhc3RBcmdzLFxuICAgICAgICB0aGlzQXJnID0gbGFzdFRoaXM7XG5cbiAgICBsYXN0QXJncyA9IGxhc3RUaGlzID0gdW5kZWZpbmVkO1xuICAgIGxhc3RJbnZva2VUaW1lID0gdGltZTtcbiAgICByZXN1bHQgPSBmdW5jLmFwcGx5KHRoaXNBcmcsIGFyZ3MpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBmdW5jdGlvbiBsZWFkaW5nRWRnZSh0aW1lKSB7XG4gICAgLy8gUmVzZXQgYW55IGBtYXhXYWl0YCB0aW1lci5cbiAgICBsYXN0SW52b2tlVGltZSA9IHRpbWU7XG4gICAgLy8gU3RhcnQgdGhlIHRpbWVyIGZvciB0aGUgdHJhaWxpbmcgZWRnZS5cbiAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHdhaXQpO1xuICAgIC8vIEludm9rZSB0aGUgbGVhZGluZyBlZGdlLlxuICAgIHJldHVybiBsZWFkaW5nID8gaW52b2tlRnVuYyh0aW1lKSA6IHJlc3VsdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbWFpbmluZ1dhaXQodGltZSkge1xuICAgIHZhciB0aW1lU2luY2VMYXN0Q2FsbCA9IHRpbWUgLSBsYXN0Q2FsbFRpbWUsXG4gICAgICAgIHRpbWVTaW5jZUxhc3RJbnZva2UgPSB0aW1lIC0gbGFzdEludm9rZVRpbWUsXG4gICAgICAgIHJlc3VsdCA9IHdhaXQgLSB0aW1lU2luY2VMYXN0Q2FsbDtcblxuICAgIHJldHVybiBtYXhpbmcgPyBuYXRpdmVNaW4ocmVzdWx0LCBtYXhXYWl0IC0gdGltZVNpbmNlTGFzdEludm9rZSkgOiByZXN1bHQ7XG4gIH1cblxuICBmdW5jdGlvbiBzaG91bGRJbnZva2UodGltZSkge1xuICAgIHZhciB0aW1lU2luY2VMYXN0Q2FsbCA9IHRpbWUgLSBsYXN0Q2FsbFRpbWUsXG4gICAgICAgIHRpbWVTaW5jZUxhc3RJbnZva2UgPSB0aW1lIC0gbGFzdEludm9rZVRpbWU7XG5cbiAgICAvLyBFaXRoZXIgdGhpcyBpcyB0aGUgZmlyc3QgY2FsbCwgYWN0aXZpdHkgaGFzIHN0b3BwZWQgYW5kIHdlJ3JlIGF0IHRoZVxuICAgIC8vIHRyYWlsaW5nIGVkZ2UsIHRoZSBzeXN0ZW0gdGltZSBoYXMgZ29uZSBiYWNrd2FyZHMgYW5kIHdlJ3JlIHRyZWF0aW5nXG4gICAgLy8gaXQgYXMgdGhlIHRyYWlsaW5nIGVkZ2UsIG9yIHdlJ3ZlIGhpdCB0aGUgYG1heFdhaXRgIGxpbWl0LlxuICAgIHJldHVybiAobGFzdENhbGxUaW1lID09PSB1bmRlZmluZWQgfHwgKHRpbWVTaW5jZUxhc3RDYWxsID49IHdhaXQpIHx8XG4gICAgICAodGltZVNpbmNlTGFzdENhbGwgPCAwKSB8fCAobWF4aW5nICYmIHRpbWVTaW5jZUxhc3RJbnZva2UgPj0gbWF4V2FpdCkpO1xuICB9XG5cbiAgZnVuY3Rpb24gdGltZXJFeHBpcmVkKCkge1xuICAgIHZhciB0aW1lID0gbm93KCk7XG4gICAgaWYgKHNob3VsZEludm9rZSh0aW1lKSkge1xuICAgICAgcmV0dXJuIHRyYWlsaW5nRWRnZSh0aW1lKTtcbiAgICB9XG4gICAgLy8gUmVzdGFydCB0aGUgdGltZXIuXG4gICAgdGltZXJJZCA9IHNldFRpbWVvdXQodGltZXJFeHBpcmVkLCByZW1haW5pbmdXYWl0KHRpbWUpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRyYWlsaW5nRWRnZSh0aW1lKSB7XG4gICAgdGltZXJJZCA9IHVuZGVmaW5lZDtcblxuICAgIC8vIE9ubHkgaW52b2tlIGlmIHdlIGhhdmUgYGxhc3RBcmdzYCB3aGljaCBtZWFucyBgZnVuY2AgaGFzIGJlZW5cbiAgICAvLyBkZWJvdW5jZWQgYXQgbGVhc3Qgb25jZS5cbiAgICBpZiAodHJhaWxpbmcgJiYgbGFzdEFyZ3MpIHtcbiAgICAgIHJldHVybiBpbnZva2VGdW5jKHRpbWUpO1xuICAgIH1cbiAgICBsYXN0QXJncyA9IGxhc3RUaGlzID0gdW5kZWZpbmVkO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBmdW5jdGlvbiBjYW5jZWwoKSB7XG4gICAgaWYgKHRpbWVySWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVySWQpO1xuICAgIH1cbiAgICBsYXN0SW52b2tlVGltZSA9IDA7XG4gICAgbGFzdEFyZ3MgPSBsYXN0Q2FsbFRpbWUgPSBsYXN0VGhpcyA9IHRpbWVySWQgPSB1bmRlZmluZWQ7XG4gIH1cblxuICBmdW5jdGlvbiBmbHVzaCgpIHtcbiAgICByZXR1cm4gdGltZXJJZCA9PT0gdW5kZWZpbmVkID8gcmVzdWx0IDogdHJhaWxpbmdFZGdlKG5vdygpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRlYm91bmNlZCgpIHtcbiAgICB2YXIgdGltZSA9IG5vdygpLFxuICAgICAgICBpc0ludm9raW5nID0gc2hvdWxkSW52b2tlKHRpbWUpO1xuXG4gICAgbGFzdEFyZ3MgPSBhcmd1bWVudHM7XG4gICAgbGFzdFRoaXMgPSB0aGlzO1xuICAgIGxhc3RDYWxsVGltZSA9IHRpbWU7XG5cbiAgICBpZiAoaXNJbnZva2luZykge1xuICAgICAgaWYgKHRpbWVySWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gbGVhZGluZ0VkZ2UobGFzdENhbGxUaW1lKTtcbiAgICAgIH1cbiAgICAgIGlmIChtYXhpbmcpIHtcbiAgICAgICAgLy8gSGFuZGxlIGludm9jYXRpb25zIGluIGEgdGlnaHQgbG9vcC5cbiAgICAgICAgdGltZXJJZCA9IHNldFRpbWVvdXQodGltZXJFeHBpcmVkLCB3YWl0KTtcbiAgICAgICAgcmV0dXJuIGludm9rZUZ1bmMobGFzdENhbGxUaW1lKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRpbWVySWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGltZXJJZCA9IHNldFRpbWVvdXQodGltZXJFeHBpcmVkLCB3YWl0KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICBkZWJvdW5jZWQuY2FuY2VsID0gY2FuY2VsO1xuICBkZWJvdW5jZWQuZmx1c2ggPSBmbHVzaDtcbiAgcmV0dXJuIGRlYm91bmNlZDtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyB0aGVcbiAqIFtsYW5ndWFnZSB0eXBlXShodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtZWNtYXNjcmlwdC1sYW5ndWFnZS10eXBlcylcbiAqIG9mIGBPYmplY3RgLiAoZS5nLiBhcnJheXMsIGZ1bmN0aW9ucywgb2JqZWN0cywgcmVnZXhlcywgYG5ldyBOdW1iZXIoMClgLCBhbmQgYG5ldyBTdHJpbmcoJycpYClcbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdCh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoXy5ub29wKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KG51bGwpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIHJldHVybiAhIXZhbHVlICYmICh0eXBlID09ICdvYmplY3QnIHx8IHR5cGUgPT0gJ2Z1bmN0aW9uJyk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UuIEEgdmFsdWUgaXMgb2JqZWN0LWxpa2UgaWYgaXQncyBub3QgYG51bGxgXG4gKiBhbmQgaGFzIGEgYHR5cGVvZmAgcmVzdWx0IG9mIFwib2JqZWN0XCIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdExpa2Uoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc09iamVjdExpa2UobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdExpa2UodmFsdWUpIHtcbiAgcmV0dXJuICEhdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgU3ltYm9sYCBwcmltaXRpdmUgb3Igb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc3ltYm9sLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNTeW1ib2woU3ltYm9sLml0ZXJhdG9yKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzU3ltYm9sKCdhYmMnKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzU3ltYm9sKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ3N5bWJvbCcgfHxcbiAgICAoaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBvYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKSA9PSBzeW1ib2xUYWcpO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBudW1iZXIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb2Nlc3MuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBudW1iZXIuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8udG9OdW1iZXIoMy4yKTtcbiAqIC8vID0+IDMuMlxuICpcbiAqIF8udG9OdW1iZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gKiAvLyA9PiA1ZS0zMjRcbiAqXG4gKiBfLnRvTnVtYmVyKEluZmluaXR5KTtcbiAqIC8vID0+IEluZmluaXR5XG4gKlxuICogXy50b051bWJlcignMy4yJyk7XG4gKiAvLyA9PiAzLjJcbiAqL1xuZnVuY3Rpb24gdG9OdW1iZXIodmFsdWUpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJykge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICBpZiAoaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgcmV0dXJuIE5BTjtcbiAgfVxuICBpZiAoaXNPYmplY3QodmFsdWUpKSB7XG4gICAgdmFyIG90aGVyID0gdHlwZW9mIHZhbHVlLnZhbHVlT2YgPT0gJ2Z1bmN0aW9uJyA/IHZhbHVlLnZhbHVlT2YoKSA6IHZhbHVlO1xuICAgIHZhbHVlID0gaXNPYmplY3Qob3RoZXIpID8gKG90aGVyICsgJycpIDogb3RoZXI7XG4gIH1cbiAgaWYgKHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gMCA/IHZhbHVlIDogK3ZhbHVlO1xuICB9XG4gIHZhbHVlID0gdmFsdWUucmVwbGFjZShyZVRyaW0sICcnKTtcbiAgdmFyIGlzQmluYXJ5ID0gcmVJc0JpbmFyeS50ZXN0KHZhbHVlKTtcbiAgcmV0dXJuIChpc0JpbmFyeSB8fCByZUlzT2N0YWwudGVzdCh2YWx1ZSkpXG4gICAgPyBmcmVlUGFyc2VJbnQodmFsdWUuc2xpY2UoMiksIGlzQmluYXJ5ID8gMiA6IDgpXG4gICAgOiAocmVJc0JhZEhleC50ZXN0KHZhbHVlKSA/IE5BTiA6ICt2YWx1ZSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZGVib3VuY2U7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL25vZGVfbW9kdWxlcy9sb2Rhc2guZGVib3VuY2UvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///1\n");

/***/ }),
/* 2 */
/***/ (function(module, exports) {

eval("var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanM/MzY5OCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZztcclxuXHJcbi8vIFRoaXMgd29ya3MgaW4gbm9uLXN0cmljdCBtb2RlXHJcbmcgPSAoZnVuY3Rpb24oKSB7XHJcblx0cmV0dXJuIHRoaXM7XHJcbn0pKCk7XHJcblxyXG50cnkge1xyXG5cdC8vIFRoaXMgd29ya3MgaWYgZXZhbCBpcyBhbGxvd2VkIChzZWUgQ1NQKVxyXG5cdGcgPSBnIHx8IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKSB8fCAoMSxldmFsKShcInRoaXNcIik7XHJcbn0gY2F0Y2goZSkge1xyXG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXHJcblx0aWYodHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIilcclxuXHRcdGcgPSB3aW5kb3c7XHJcbn1cclxuXHJcbi8vIGcgY2FuIHN0aWxsIGJlIHVuZGVmaW5lZCwgYnV0IG5vdGhpbmcgdG8gZG8gYWJvdXQgaXQuLi5cclxuLy8gV2UgcmV0dXJuIHVuZGVmaW5lZCwgaW5zdGVhZCBvZiBub3RoaW5nIGhlcmUsIHNvIGl0J3NcclxuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBnO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAod2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanNcbi8vIG1vZHVsZSBpZCA9IDJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///2\n");

/***/ }),
/* 3 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n// device sniffing for mobile\n\nvar isMobile = {\n\tandroid: function android() {\n\t\treturn navigator.userAgent.match(/Android/i);\n\t},\n\n\tblackberry: function blackberry() {\n\t\treturn navigator.userAgent.match(/BlackBerry/i);\n\t},\n\n\tios: function ios() {\n\t\treturn navigator.userAgent.match(/iPhone|iPad|iPod/i);\n\t},\n\n\topera: function opera() {\n\t\treturn navigator.userAgent.match(/Opera Mini/i);\n\t},\n\n\twindows: function windows() {\n\t\treturn navigator.userAgent.match(/IEMobile/i);\n\t},\n\n\tany: function any() {\n\t\treturn isMobile.android() || isMobile.blackberry() || isMobile.ios() || isMobile.opera() || isMobile.windows();\n\t}\n};\n\nexports.default = isMobile;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvanMvdXRpbHMvaXMtbW9iaWxlLmpzPzY1NGMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gZGV2aWNlIHNuaWZmaW5nIGZvciBtb2JpbGVcblxuY29uc3QgaXNNb2JpbGUgPSB7XG5cdGFuZHJvaWQ6ICgpID0+IG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0FuZHJvaWQvaSksXG5cblx0YmxhY2tiZXJyeTogKCkgPT4gbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvQmxhY2tCZXJyeS9pKSxcblxuXHRpb3M6ICgpID0+IG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL2lQaG9uZXxpUGFkfGlQb2QvaSksXG5cblx0b3BlcmE6ICgpID0+IG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL09wZXJhIE1pbmkvaSksXG5cblx0d2luZG93czogKCkgPT4gbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvSUVNb2JpbGUvaSksXG5cblx0YW55OiAoKSA9PiAoXG5cdFx0aXNNb2JpbGUuYW5kcm9pZCgpIHx8XG5cdFx0aXNNb2JpbGUuYmxhY2tiZXJyeSgpIHx8XG5cdFx0aXNNb2JpbGUuaW9zKCkgfHxcblx0XHRpc01vYmlsZS5vcGVyYSgpIHx8XG5cdFx0aXNNb2JpbGUud2luZG93cygpXG5cdCksXG59XG5cbmV4cG9ydCBkZWZhdWx0IGlzTW9iaWxlXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc3JjL2pzL3V0aWxzL2lzLW1vYmlsZS5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBWEE7QUFDQTtBQW1CQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///3\n");

/***/ }),
/* 4 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n// D3 is included by globally by default\n\nfunction resize() {}\n\nfunction init() {\n\tconsole.log('Make somethingjk!');\n}\n\nexports.default = { init: init, resize: resize };//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvanMvZ3JhcGhpYy5qcz8xZTZkIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEQzIGlzIGluY2x1ZGVkIGJ5IGdsb2JhbGx5IGJ5IGRlZmF1bHRcblxuZnVuY3Rpb24gcmVzaXplKCkge31cblxuZnVuY3Rpb24gaW5pdCgpIHtcblx0Y29uc29sZS5sb2coJ01ha2Ugc29tZXRoaW5namshJyk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHsgaW5pdCwgcmVzaXplIH07XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc3JjL2pzL2dyYXBoaWMuanMiXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///4\n");

/***/ }),
/* 5 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nfunction resize() {}\n\nfunction init() {\n\n    var margin = { top: 100, right: 10, bottom: 100, left: 100 },\n        width = 1000 - margin.left - margin.right,\n        height = 1200 - margin.top - margin.bottom;\n\n    var svg = d3.select('.joyplot').append('svg').attr('width', width + margin.left + margin.right).attr('height', height + margin.top + margin.bottom).append('g').attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');\n\n    // Percent two area charts can overlap\n    var overlap = 0.8;\n\n    // NEED TO FIGURE THIS OUT\n    // var formatTime = d3.timeFormat('%I %p');\n    var formatTime = d3.timeFormat('%Y');\n\n    // Function to return d.time\n    var x = function x(d) {\n        return d.time;\n    };\n\n    // xScale\n    var xScale = d3.scaleTime().range([0, width]);\n    var xValue = function xValue(d) {\n        return xScale(x(d));\n    };\n    var xAxis = d3.axisBottom(xScale).tickFormat(formatTime).ticks(10);\n\n    // y\n    var y = function y(d) {\n        return d.value;\n    };\n    var yScale = d3.scaleLinear();\n    var yValue = function yValue(d) {\n        return yScale(y(d)) + 10;\n    };\n\n    //\n    var activity = function activity(d) {\n        return d.key;\n    };\n    var activityScale = d3.scaleBand().range([0, height - 600]);\n    var activityValue = function activityValue(d) {\n        return activityScale(activity(d));\n    };\n    var activityAxis = d3.axisLeft(activityScale);\n\n    var area = d3.area().x(xValue).y1(yValue);\n\n    var line = area.lineY1();\n\n    // function parseTime(offset) {\n    //     var date = new Date(2017, 0, 1); // chose an arbitrary day\n    //     return d3.timeMinute.offset(date, offset);\n    // }\n\n    var parseTime = d3.timeParse('%Y');\n\n    function row(d) {\n        return {\n            activity: d.activity,\n            time: parseTime(+d.time),\n            value: +d.p_smooth\n        };\n    }\n\n    d3.tsv('assets/cities.tsv', row, function (error, dataFlat) {\n        if (error) throw error;\n        // Sort x-axis by time\n        dataFlat.sort(function (a, b) {\n            return a.time - b.time;\n        });\n        console.log(dataFlat);\n\n        var data = d3.nest().key(function (d) {\n            return d.activity;\n        }).entries(dataFlat);\n        console.log(data);\n\n        // Place activities based in order of max peak time\n        function peakTime(d) {\n            var i = d3.scan(d.values, function (a, b) {\n                return y(a) - y(b);\n            });\n            return d.values[i].time;\n        };\n\n        // Sort activities by \n        var activityDomain = [\"Indie/Alternative\", \"Hip Hop\", \"Punk\", \"Classic Rock\", \"Other\", \"Jazz/Soul\", \"Electronic\", \"Metal\", \"Rock\"];\n\n        data.sort(function (a, b) {\n            return activityDomain.indexOf(a.key) - activityDomain.indexOf(b.key);\n        });\n        console.log(data);\n\n        // data.sort(function(a, b) { return peakTime(a) - peakTime(b); });\n\n        xScale.domain(d3.extent(dataFlat, x));\n        // xScale.domain([parseTime(1989), parseTime(2017)]);\n\n\n        activityScale.domain(activityDomain);\n        // activityScale.domain(data.map(function(d) { return d.key; }));\n\n        var areaChartHeight = (1 + overlap) * (height / activityScale.domain().length);\n\n        yScale.domain(d3.extent(dataFlat, y)).range([areaChartHeight, 0]);\n\n        area.y0(yScale(0));\n        svg.append('g').attr('class', 'axis axis--x').attr('transform', 'translate(0,' + (height / 2 + 50) + ')') // hard-coded => bad\n        .call(xAxis);\n\n        svg.append('g').attr('class', 'axis axis--activity').attr('transform', 'translate(0,' + 148 + ')').call(activityAxis);\n\n        var gActivity = svg.append('g').attr('class', 'activities').selectAll('.activity').data(data).enter().append('g').attr('class', function (d) {\n            return 'activity activity--' + d.key;\n        }).attr('transform', function (d) {\n            var ty = activityValue(d) - activityScale.bandwidth() + 5;\n            return 'translate(0,' + ty + ')';\n        });\n\n        gActivity.append('path').attr('class', 'area').datum(function (d) {\n            return d.values;\n        }).attr('d', area);\n        // .on('mouseover', function(d) {\n        //     d3.select(this)\n        //         .style('opacity', .8);\n        // })\n        // .on('mouseout', function(d) {\n        //     d3.select(this)\n        //         .style('opacity', 1)\n        // });\n\n        gActivity.append('path').attr('class', 'line').datum(function (d) {\n            return d.values;\n        }).attr('d', line).style('opacity', 1);\n    });\n}\n\nexports.default = { init: init, resize: resize };//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvanMvam95cGxvdC5qcz9hNDE2Il0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIHJlc2l6ZSgpIHt9XG5cbmZ1bmN0aW9uIGluaXQoKSB7XG5cbiAgICBcblxuXG52YXIgbWFyZ2luID0geyB0b3A6IDEwMCwgcmlnaHQ6IDEwLCBib3R0b206IDEwMCwgbGVmdDogMTAwIH0sXG4gICAgd2lkdGggPSAxMDAwIC0gbWFyZ2luLmxlZnQgLSBtYXJnaW4ucmlnaHQsXG4gICAgaGVpZ2h0ID0gMTIwMCAtIG1hcmdpbi50b3AgLSBtYXJnaW4uYm90dG9tO1xuXG52YXIgc3ZnID0gZDMuc2VsZWN0KCcuam95cGxvdCcpLmFwcGVuZCgnc3ZnJylcbiAgICAgICAgLmF0dHIoJ3dpZHRoJywgd2lkdGggKyBtYXJnaW4ubGVmdCArIG1hcmdpbi5yaWdodClcbiAgICAgICAgLmF0dHIoJ2hlaWdodCcsIGhlaWdodCArIG1hcmdpbi50b3AgKyBtYXJnaW4uYm90dG9tKVxuICAgICAgICAuYXBwZW5kKCdnJylcbiAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoJyArIG1hcmdpbi5sZWZ0ICsgJywnICsgbWFyZ2luLnRvcCArICcpJyk7XG5cbi8vIFBlcmNlbnQgdHdvIGFyZWEgY2hhcnRzIGNhbiBvdmVybGFwXG52YXIgb3ZlcmxhcCA9IDAuODtcblxuLy8gTkVFRCBUTyBGSUdVUkUgVEhJUyBPVVRcbi8vIHZhciBmb3JtYXRUaW1lID0gZDMudGltZUZvcm1hdCgnJUkgJXAnKTtcbnZhciBmb3JtYXRUaW1lID0gZDMudGltZUZvcm1hdCgnJVknKTtcblxuLy8gRnVuY3Rpb24gdG8gcmV0dXJuIGQudGltZVxudmFyIHggPSBmdW5jdGlvbihkKSB7IHJldHVybiBkLnRpbWU7IH07XG5cbi8vIHhTY2FsZVxudmFyIHhTY2FsZSA9IGQzLnNjYWxlVGltZSgpLnJhbmdlKFswLCB3aWR0aF0pO1xudmFyIHhWYWx1ZSA9IGZ1bmN0aW9uKGQpIHsgcmV0dXJuIHhTY2FsZSh4KGQpKTsgfTtcbnZhciB4QXhpcyA9IGQzLmF4aXNCb3R0b20oeFNjYWxlKS50aWNrRm9ybWF0KGZvcm1hdFRpbWUpLnRpY2tzKDEwKTtcblxuLy8geVxudmFyIHkgPSBmdW5jdGlvbihkKSB7IHJldHVybiBkLnZhbHVlOyB9O1xudmFyIHlTY2FsZSA9IGQzLnNjYWxlTGluZWFyKCk7XG52YXIgeVZhbHVlID0gZnVuY3Rpb24oZCkgeyByZXR1cm4geVNjYWxlKHkoZCkpICsgMTA7IH07XG5cbi8vXG52YXIgYWN0aXZpdHkgPSBmdW5jdGlvbihkKSB7IHJldHVybiBkLmtleTsgfTtcbnZhciBhY3Rpdml0eVNjYWxlID0gZDMuc2NhbGVCYW5kKCkucmFuZ2UoWzAsIGhlaWdodCAtIDYwMF0pO1xudmFyIGFjdGl2aXR5VmFsdWUgPSBmdW5jdGlvbihkKSB7IHJldHVybiBhY3Rpdml0eVNjYWxlKGFjdGl2aXR5KGQpKTsgfTtcbnZhciBhY3Rpdml0eUF4aXMgPSBkMy5heGlzTGVmdChhY3Rpdml0eVNjYWxlKTtcblxudmFyIGFyZWEgPSBkMy5hcmVhKClcbiAgICAueCh4VmFsdWUpXG4gICAgLnkxKHlWYWx1ZSk7XG5cbnZhciBsaW5lID0gYXJlYS5saW5lWTEoKTtcblxuLy8gZnVuY3Rpb24gcGFyc2VUaW1lKG9mZnNldCkge1xuLy8gICAgIHZhciBkYXRlID0gbmV3IERhdGUoMjAxNywgMCwgMSk7IC8vIGNob3NlIGFuIGFyYml0cmFyeSBkYXlcbi8vICAgICByZXR1cm4gZDMudGltZU1pbnV0ZS5vZmZzZXQoZGF0ZSwgb2Zmc2V0KTtcbi8vIH1cblxudmFyIHBhcnNlVGltZSA9IGQzLnRpbWVQYXJzZSgnJVknKTtcblxuXG5mdW5jdGlvbiByb3coZCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGFjdGl2aXR5OiBkLmFjdGl2aXR5LFxuICAgICAgICB0aW1lOiBwYXJzZVRpbWUoK2QudGltZSksXG4gICAgICAgIHZhbHVlOiArZC5wX3Ntb290aFxuICAgIH07XG59XG5cbmQzLnRzdignYXNzZXRzL2NpdGllcy50c3YnLCByb3csIGZ1bmN0aW9uKGVycm9yLCBkYXRhRmxhdCkge1xuICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3I7XG4gICAgLy8gU29ydCB4LWF4aXMgYnkgdGltZVxuICAgIGRhdGFGbGF0LnNvcnQoZnVuY3Rpb24oYSwgYikgeyByZXR1cm4gYS50aW1lIC0gYi50aW1lOyB9KTtcbiAgICBjb25zb2xlLmxvZyhkYXRhRmxhdCk7XG5cblxuICAgIHZhciBkYXRhID0gZDMubmVzdCgpXG4gICAgICAgIC5rZXkoZnVuY3Rpb24oZCkgeyByZXR1cm4gZC5hY3Rpdml0eTsgfSlcbiAgICAgICAgLmVudHJpZXMoZGF0YUZsYXQpO1xuICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuXG4gICAgLy8gUGxhY2UgYWN0aXZpdGllcyBiYXNlZCBpbiBvcmRlciBvZiBtYXggcGVhayB0aW1lXG4gICAgZnVuY3Rpb24gcGVha1RpbWUoZCkge1xuICAgICAgICB2YXIgaSA9IGQzLnNjYW4oZC52YWx1ZXMsIGZ1bmN0aW9uKGEsIGIpIHsgcmV0dXJuIHkoYSkgLSB5KGIpOyB9KTtcbiAgICAgICAgcmV0dXJuIGQudmFsdWVzW2ldLnRpbWU7XG4gICAgfTtcblxuICAgIC8vIFNvcnQgYWN0aXZpdGllcyBieSBcbiAgICB2YXIgYWN0aXZpdHlEb21haW4gPSBbXCJJbmRpZS9BbHRlcm5hdGl2ZVwiLCBcIkhpcCBIb3BcIiwgXCJQdW5rXCIsIFwiQ2xhc3NpYyBSb2NrXCIsIFwiT3RoZXJcIiwgXCJKYXp6L1NvdWxcIiwgXCJFbGVjdHJvbmljXCIsIFwiTWV0YWxcIiwgXCJSb2NrXCJdO1xuXG4gICAgZGF0YS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7cmV0dXJuIGFjdGl2aXR5RG9tYWluLmluZGV4T2YoYS5rZXkpIC0gYWN0aXZpdHlEb21haW4uaW5kZXhPZihiLmtleSl9KVxuICAgIGNvbnNvbGUubG9nKGRhdGEpXG5cbiAgICAvLyBkYXRhLnNvcnQoZnVuY3Rpb24oYSwgYikgeyByZXR1cm4gcGVha1RpbWUoYSkgLSBwZWFrVGltZShiKTsgfSk7XG5cbiAgICB4U2NhbGUuZG9tYWluKGQzLmV4dGVudChkYXRhRmxhdCwgeCkpO1xuICAgIC8vIHhTY2FsZS5kb21haW4oW3BhcnNlVGltZSgxOTg5KSwgcGFyc2VUaW1lKDIwMTcpXSk7XG5cblxuICAgIGFjdGl2aXR5U2NhbGUuZG9tYWluKGFjdGl2aXR5RG9tYWluKTsgXG4gICAgLy8gYWN0aXZpdHlTY2FsZS5kb21haW4oZGF0YS5tYXAoZnVuY3Rpb24oZCkgeyByZXR1cm4gZC5rZXk7IH0pKTtcblxuICAgIHZhciBhcmVhQ2hhcnRIZWlnaHQgPSAoMSArIG92ZXJsYXApICogKGhlaWdodCAvIGFjdGl2aXR5U2NhbGUuZG9tYWluKCkubGVuZ3RoKTtcblxuICAgIHlTY2FsZVxuICAgICAgICAuZG9tYWluKGQzLmV4dGVudChkYXRhRmxhdCwgeSkpXG4gICAgICAgIC5yYW5nZShbYXJlYUNoYXJ0SGVpZ2h0LCAwXSk7XG4gICAgXG4gICAgYXJlYS55MCh5U2NhbGUoMCkpO1xuICAgIHN2Zy5hcHBlbmQoJ2cnKVxuICAgICAgICAuYXR0cignY2xhc3MnLCAnYXhpcyBheGlzLS14JylcbiAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoMCwnICsgKGhlaWdodCAvIDIgKyA1MCkgKyAnKScpIC8vIGhhcmQtY29kZWQgPT4gYmFkXG4gICAgICAgIC5jYWxsKHhBeGlzKTtcblxuICAgIHN2Zy5hcHBlbmQoJ2cnKVxuICAgICAgICAuYXR0cignY2xhc3MnLCAnYXhpcyBheGlzLS1hY3Rpdml0eScpXG4gICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKDAsJyArIDE0OCArICcpJylcbiAgICAgICAgLmNhbGwoYWN0aXZpdHlBeGlzKTtcblxuICAgIHZhciBnQWN0aXZpdHkgPSBzdmcuYXBwZW5kKCdnJylcbiAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICdhY3Rpdml0aWVzJylcbiAgICAgICAgICAgIC5zZWxlY3RBbGwoJy5hY3Rpdml0eScpLmRhdGEoZGF0YSlcbiAgICAgICAgICAgIC5lbnRlcigpLmFwcGVuZCgnZycpXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgZnVuY3Rpb24oZCkgeyByZXR1cm4gJ2FjdGl2aXR5IGFjdGl2aXR5LS0nICsgZC5rZXk7IH0pXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHR5ID0gYWN0aXZpdHlWYWx1ZShkKSAtIGFjdGl2aXR5U2NhbGUuYmFuZHdpZHRoKCkgKyA1O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3RyYW5zbGF0ZSgwLCcgKyB0eSArICcpJztcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgIGdBY3Rpdml0eS5hcHBlbmQoJ3BhdGgnKVxuICAgICAgICAuYXR0cignY2xhc3MnLCAnYXJlYScpXG4gICAgICAgIC5kYXR1bShmdW5jdGlvbihkKSB7IHJldHVybiBkLnZhbHVlczsgfSlcbiAgICAgICAgLmF0dHIoJ2QnLCBhcmVhKTtcbiAgICAgICAgLy8gLm9uKCdtb3VzZW92ZXInLCBmdW5jdGlvbihkKSB7XG4gICAgICAgIC8vICAgICBkMy5zZWxlY3QodGhpcylcbiAgICAgICAgLy8gICAgICAgICAuc3R5bGUoJ29wYWNpdHknLCAuOCk7XG4gICAgICAgIC8vIH0pXG4gICAgICAgIC8vIC5vbignbW91c2VvdXQnLCBmdW5jdGlvbihkKSB7XG4gICAgICAgIC8vICAgICBkMy5zZWxlY3QodGhpcylcbiAgICAgICAgLy8gICAgICAgICAuc3R5bGUoJ29wYWNpdHknLCAxKVxuICAgICAgICAvLyB9KTtcbiAgICBcbiAgICBnQWN0aXZpdHkuYXBwZW5kKCdwYXRoJylcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2xpbmUnKVxuICAgICAgICAuZGF0dW0oZnVuY3Rpb24oZCkgeyByZXR1cm4gZC52YWx1ZXM7IH0pXG4gICAgICAgIC5hdHRyKCdkJywgbGluZSlcbiAgICAgICAgLnN0eWxlKCdvcGFjaXR5JywgMSk7XG59KTtcblxufVxuXG5leHBvcnQgZGVmYXVsdCB7IGluaXQsIHJlc2l6ZSB9O1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvanMvam95cGxvdC5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQUE7QUFBQTtBQUNBO0FBR0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFBQTtBQUNBO0FBSUE7QUFDQTtBQUlBO0FBSUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBR0E7QUFFQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///5\n");

/***/ }),
/* 6 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n// D3 is included by globally by default\n\nfunction resize() {}\n\nfunction init() {\n  console.log('newtest.js found!');\n\n  /*\n   * Creates tooltip with provided id that\n   * floats on top of visualization.\n   * Most styling is expected to come from CSS\n   * so check out bubble_chart.css for more details.\n   */\n  function floatingTooltip(tooltipId, width) {\n    // Local variable to hold tooltip div for\n    // manipulation in other functions.\n    var tt = d3v3.select('body').append('div').attr('class', 'tooltip').attr('id', tooltipId).style('pointer-events', 'none');\n\n    // Set a width if it is provided.\n    if (width) {\n      tt.style('width', width);\n    }\n\n    // Initially it is hidden.\n    hideTooltip();\n\n    /*\n     * Display tooltip with provided content.\n     *\n     * content is expected to be HTML string.\n     *\n     * event is d3v3.event for positioning.\n     */\n    function showTooltip(content, event) {\n      tt.style('opacity', 1.0).html(content);\n\n      updatePosition(event);\n    }\n\n    /*\n     * Hide the tooltip div.\n     */\n    function hideTooltip() {\n      tt.style('opacity', 0.0);\n    }\n\n    /*\n     * Figure out where to place the tooltip\n     * based on d3 mouse event.\n     */\n    function updatePosition(event) {\n      var xOffset = 20;\n      var yOffset = 10;\n\n      var ttw = tt.style('width');\n      var tth = tt.style('height');\n\n      var wscrY = window.scrollY;\n      var wscrX = window.scrollX;\n\n      var curX = document.all ? event.clientX + wscrX : event.pageX;\n      var curY = document.all ? event.clientY + wscrY : event.pageY;\n      var ttleft = curX - wscrX + xOffset * 2 + ttw > window.innerWidth ? curX - ttw - xOffset * 2 : curX + xOffset;\n\n      if (ttleft < wscrX + xOffset) {\n        ttleft = wscrX + xOffset;\n      }\n\n      var tttop = curY - wscrY + yOffset * 2 + tth > window.innerHeight ? curY - tth - yOffset * 2 : curY + yOffset;\n\n      if (tttop < wscrY + yOffset) {\n        tttop = curY + yOffset;\n      }\n\n      tt.style({ top: tttop + 'px', left: ttleft + 'px' });\n    }\n\n    return {\n      showTooltip: showTooltip,\n      hideTooltip: hideTooltip,\n      updatePosition: updatePosition\n    };\n  }\n\n  function bubbleChart() {\n    var _useTitleX;\n\n    // var searchBar = d3v3.select('body').append(\"div\").attr(\"class\", \"SearchBar\");\n    var searchBar = d3v3.select('.SearchBar');\n\n    var margin = { top: 20, bottom: 20, left: 20, right: 20 };\n    var width = 1100 - margin.left - margin.right;\n    var height = 650 - margin.top - margin.bottom;\n\n    // tooltip for mouseover functionality\n    var tooltip = floatingTooltip('bubble_tooltip', 240);\n\n    // DEFINE CENTERS FOR TOGGLE OPTIONS\n    var center = { x: width / 2, y: height / 2 };\n\n    var useCenters = {\n      'lowest': { x: 200 + 30, y: height / 2 },\n      'low': { x: 285 + 30, y: height / 2 },\n      'medium-lower': { x: 375 + 30, y: height / 2 },\n      'medium-low': { x: 530 + 30, y: height / 2 },\n      'medium': { x: 595 + 30, y: height / 2 },\n      'high': { x: 660 + 30, y: height / 2 }\n    };\n\n    var useTitleX = (_useTitleX = {\n      '': 200 + 30\n    }, _defineProperty(_useTitleX, '', 375 + 30), _defineProperty(_useTitleX, '', 560 + 30), _defineProperty(_useTitleX, '', 600 + 30), _defineProperty(_useTitleX, '', 780 + 30), _useTitleX);\n\n    var genreCenters = {\n      'Classic Rock': { x: width / 7 + 80 + 30, y: height / 2 - 50 },\n      'Indie/Alternative': { x: width / 7 + 80 + 30, y: 450 },\n      'Hip Hop': { x: width / 7 * 2.8 - 60 + 30, y: height / 2 - 50 },\n      'Electronic': { x: width / 7 * 2.8 - 60 + 30, y: 450 },\n      'Punk': { x: width / 7 * 4 - 30, y: height / 2 - 50 },\n      'Metal': { x: width / 7 * 4 - 90 + 30, y: 450 },\n      'Other': { x: width / 7 * 5 - 75 + 30, y: height / 2 - 75 },\n      'Jazz/Soul': { x: width / 7 * 5 - 75 + 30, y: 450 },\n      'Rock': { x: width / 7 * 5 - 75 + 50, y: height / 2 - 75 }\n    };\n\n    var genreTitleX = {\n      'Classic Rock': width / 7 - 30 + 30,\n      'Indie/Alternative': width / 7 - 30 + 30,\n      'Hip Hop': width / 7 * 2.5 + 30,\n      'Electronic': width / 7 * 2.5 + 30,\n      'Punk': width / 7 * 4 + 10,\n      'Metal': width / 7 * 4 + 10,\n      'Other': width / 7 * 5.1 + 50,\n      'Jazz/Soul': width / 7 * 5.1 + 50\n      // 'Rock': width/7 * 5.1 + 70,\n\n    };\n\n    var genreTitleY = {\n      'Classic Rock': 55,\n      'Indie/Alternative': 430,\n      'Hip Hop': 55,\n      'Electronic': 430,\n      'Punk': 55,\n      'Metal': 430,\n      'Other': 55,\n      'Jazz/Soul': 430\n      // 'Rock': 55\n\n    };\n\n    // Used when setting up force and\n    // moving around nodes\n    var damper = 0.102;\n\n    // These will be set in create_nodes and create_vis\n    var svg = null;\n    var bubbles = null;\n    var nodes = [];\n\n    var label_array = [];\n    var anchor_array = [];\n\n    // Function to repel nodes\n    function charge(d) {\n      return -Math.pow(d.radius, 2) / 8;\n    }\n\n    // Initialize and configure force layout\n    console.log(d3v3.version);\n    var force = d3v3.layout.force().size([width, height]).charge(charge).gravity(-0.01).friction(0.9);\n\n    // Scale for node colors\n    var bubbleColor = d3v3.scale.ordinal().domain(['Classic Rock', 'Punk', 'Indie/Alternative', 'Metal', 'Hip Hop', 'Electronic', 'Jazz/Soul', 'Rock']).range(['#fbb4ae', '#fddaec', '#ccebc5', '#decbe4', '#fed9a6', '#ffffcc', '#b3cde3', 'red', '#f2f2f2']);\n\n    // Scale for node sizes\n    var radiusScale = d3v3.scale.pow().exponent(1.8) // exponent makes the graph 'tighter'\n    .range([8, 62]);\n\n    // Functiont to convert csv data to array of node objects\n    function createNodes(rawData) {\n\n      var myNodes = rawData.map(function (d) {\n        return {\n          id: d.id,\n          radius: radiusScale(+d.artist_total),\n          value: d.artist_total,\n          name: d.artist,\n          group: d.group,\n          genre: d.genre,\n          art: d.album_art_url,\n          x: Math.random() * 900,\n          y: Math.random() * 800\n        };\n      });\n\n      // sort nodes prevent occlusion of smaller nodes.\n      myNodes.sort(function (a, b) {\n        return b.value - a.value;\n      });\n\n      return myNodes;\n    }\n\n    // Function to prepare the rawData for visualization and add an svg element\n    // to the provided selector and starts the visualization creation process.\n    var chart = function chart(selector, rawData) {\n      // Use the max total_amount in the data as the max in the scale's domain\n      // note we have to ensure the total_amount is a number by converting it\n      // with `+`.\n      var maxAmount = d3v3.max(rawData, function (d) {\n        return +d.artist_total;\n      });\n      radiusScale.domain([0, maxAmount]);\n\n      nodes = createNodes(rawData);\n      // Set the force's nodes to our newly created nodes array.\n      force.nodes(nodes);\n\n      // Create a SVG element inside the provided selector\n      // with desired size.\n      svg = d3v3.select(selector).append('svg').attr('width', width + margin.right + margin.left).attr('height', height + margin.top + margin.bottom);\n\n      // Bind nodes data to what will become DOM elements to represent them.\n      bubbles = svg.selectAll('bubble').data(nodes, function (d) {\n        return d.id;\n      }).enter().append('circle').attr('class', 'bubble').attr('r', 0).attr('fill', function (d) {\n        return bubbleColor(d.genre);\n      }).attr('stroke', function (d) {\n        return d3v3.rgb(bubbleColor(d.genre)).darker();\n      }).attr('stroke-width', 0.5).on('mouseover', showDetail).on('mouseout', hideDetail).call(force.drag);\n\n      console.log(nodes);\n\n      var text = svg.selectAll(\"text.bubble-label\").data(nodes, function (d) {\n        return d.id;\n      }).enter().append(\"text\").attr(\"class\", \"bubble-label\").text(function (d) {\n        if (d.value < 15) {\n          return \"\";\n        } else {\n          return d.name;\n        }\n      });\n\n      // Transition to fill bubblenodes\n      bubbles.transition().duration(4000).attr('r', function (d) {\n        return d.radius;\n      });\n\n      // Set initial layout to genre group.\n      splitBubblesGenre();\n\n      // Search\n\n    };\n\n    d3v3.select(\".SearchBar\").append(\"input\").attr(\"class\", \"SearchBar\").attr(\"id\", \"search\").attr(\"type\", \"text\").attr(\"placeholder\", \"Search...\");\n\n    d3v3.select(\"#search\").on(\"keyup\", function (event) {\n\n      var searched_data = nodes,\n          text = this.value.trim();\n      if (text != \"\" & text != \"none\") {\n\n        var searchResults = searched_data.map(function (r) {\n          var regex = new RegExp(\"^\" + text + \".*\", \"i\");\n          if (regex.test(r.name)) {\n            // if there are any results\n            return regex.exec(r.name)[0]; // return them to searchResults\n          };\n        });\n\n        // filter blank entries from searchResults\n        searchResults = searchResults.filter(function (r) {\n          return r != undefined;\n        });\n        // filter dataset with searchResults\n        searched_data = searchResults.map(function (r) {\n          return nodes.filter(function (p) {\n            return p.name.indexOf(r) != -1;\n          });\n        });\n\n        // flatten array \n        searched_data = [].concat.apply([], searched_data); // This finds the data we want\n\n        // data bind with new data\n        selbubbles = bubbles.data(searched_data, function (d) {\n          return d.name;\n        });\n\n        // Style select nodes\n        selbubbles.style('opacity', .75).attr('stroke-width', 3).attr('stroke', 'black');\n      } else {\n        d3v3.selectAll('.bubble').style(\"opacity\", 1).attr('stroke-width', .5).attr('stroke', function (d) {\n          return d3v3.rgb(bubbleColor(d.genre)).darker();\n        });\n      }\n\n      selbubbles.exit().style(\"opacity\", 1).attr('stroke-width', .5).attr('stroke', function (d) {\n        return d3v3.rgb(bubbleColor(d.genre)).darker();\n      });\n    });\n\n    function splitBubblesUse() {\n      hideGenre();\n      showUse();\n\n      force.on('tick', function (e) {\n        bubbles.each(moveToUse(e.alpha)).attr('cx', function (d) {\n          return d.x;\n        }).attr('cy', function (d) {\n          return d.y;\n        });\n\n        // text.attr(\"transform\", function(d){ \n\n        //   label_array.push({x: d.x, y: d.y, name: d.name, width: 0.0, height: 0.0});\n        //   anchor_array.push({x: d.x+.1, y: d.y+5, r: d.radius});\n        //   return \"translate(\"+(d.x - 10)+\",\"+d.y+\")\"; });\n      });\n\n      force.start();\n      //   d3v3.labeler()\n      //   .label(label_array)\n      //   .anchor(anchor_array)\n      //   .width(w)\n      //   .height(h)\n      //   .start(100);\n    };\n\n    function splitBubblesGenre() {\n      hideUse();\n      showGenre();\n\n      force.on('tick', function (e) {\n        bubbles.each(moveToGenre(e.alpha)).attr('cx', function (d) {\n          return d.x;\n        }).attr('cy', function (d) {\n          return d.y;\n        });\n\n        // text.attr(\"transform\", function(d){ \n\n        //   label_array.push({x: d.x, y: d.y, name: d.name, width: 0.0, height: 0.0});\n        //   anchor_array.push({x: d.x, y: d.y, r: d.radius});\n        //   return \"translate(\"+(d.x - 10) +\",\"+d.y+\")\"; });\n      });\n\n      force.start();\n      // d3v3.labeler()\n      // .label(label_array)\n      // .anchor(anchor_array)\n      // .width(w)\n      // .height(h)\n      // .start(1);\n    };\n\n    function moveToUse(alpha) {\n      return function (d) {\n        var target = useCenters[d.group];\n        d.x = d.x + (target.x - d.x) * damper * alpha * 1.1;\n        d.y = d.y + (target.y - d.y) * damper * alpha * 1.1;\n      };\n    };\n\n    /*\n     * Hides Year title displays.\n     */\n    function hideUse() {\n      svg.selectAll('.title').remove();\n    };\n\n    /*\n     * Shows Year title displays.\n     */\n    function showUse() {\n      // Another way to do this would be to create\n      // the year texts once and then just hide them.\n      var useData = d3v3.keys(useTitleX);\n      var use = svg.selectAll('.group').data(useData);\n\n      use.enter().append('text').attr('class', 'title').attr('x', function (d) {\n        return useTitleX[d];\n      }).attr('y', 40).attr('text-anchor', 'middle').text(function (d) {\n        return d;\n      });\n    }\n\n    function moveToGenre(alpha) {\n      return function (d) {\n        var target = genreCenters[d.genre];\n        d.x = d.x + (target.x - d.x) * damper * alpha * 1.1;\n        d.y = d.y + (target.y - d.y) * damper * alpha * 1.1;\n      };\n    }\n\n    /*\n     * Hides Year title displays.\n     */\n    function hideGenre() {\n      svg.selectAll('.title').remove();\n    }\n\n    /*\n     * Shows Year title displays.\n     */\n    function showGenre() {\n      // Another way to do this would be to create\n      // the year texts once and then just hide them.\n      var genreData = d3v3.keys(genreTitleX);\n      var genre = svg.selectAll('.genre').data(genreData);\n\n      genre.enter().append('text').attr('class', 'title').attr('x', function (d) {\n        return genreTitleX[d];\n      }).attr('y', function (d) {\n        return genreTitleY[d];\n      }).attr('text-anchor', 'middle').text(function (d) {\n        return d;\n      });\n    }\n\n    /*\n     * Function called on mouseover to display the\n     * details of a bubble in the tooltip.\n     */\n    function showDetail(d) {\n      // change outline to indicate hover state.\n      d3v3.select(this).attr('stroke', 'black').attr('stroke-width', 2.4).style('opacity', .75).attr('r', function (d) {\n        return d.radius + 5;\n      });\n\n      var content = '<div class=\"ttimg\"><img class=\"tooltipimage\" src=' + d.art + 'width=\"60\" height=\"60\"></div>' + '<div class=\"tttext\"><span class=\"name\">Artist: </span><span class=\"value\">' + d.name + '</span><br/>' + '<span class=\"name\">Amount Used: </span><span class=\"value\">' + d.value + '</span><br/>' + '<span class=\"name\">Genre: </span><span class=\"value\">' + d.genre + '</span><br/></div>';\n      tooltip.showTooltip(content, d3v3.event);\n    }\n\n    /*\n     * Hides tooltip\n     */\n    function hideDetail(d) {\n      // reset outline\n      d3v3.select(this).attr('stroke', d3v3.rgb(bubbleColor(d.genre)).darker()).attr('stroke-width', .5).style('opacity', 1).attr('fill', function (d) {\n        return bubbleColor(d.genre);\n      }).attr('r', function (d) {\n        return d.radius;\n      });\n\n      tooltip.hideTooltip();\n    }\n\n    /*\n     * Externally accessible function (this is attached to the\n     * returned chart function). Allows the visualization to toggle\n     * between \"single group\" and \"split by year\" modes.\n     *\n     * displayName is expected to be a string and either 'year' or 'all'.\n     */\n    chart.toggleDisplay = function (displayName) {\n      if (displayName == 'use') {\n        splitBubblesUse();\n      } else {\n        splitBubblesGenre();\n      };\n    };\n\n    // return the chart function from closure.\n    return chart;\n  }\n\n  /*\n   * Below is the initialization code as well as some helper functions\n   * to create a new bubble chart instance, load the data, and display it.\n   */\n\n  var myBubbleChart = bubbleChart();\n\n  /*\n   * Function called once data is loaded from CSV.\n   * Calls bubble chart function to display inside #vis div.\n   */\n  function display(error, data) {\n    if (error) {\n      console.log(error);\n    }\n\n    myBubbleChart('#vis', data);\n  }\n\n  /*\n   * Sets up the layout buttons to allow for toggling between view modes.\n   */\n  function setupButtons() {\n    d3v3.select('#toolbar').selectAll('.button').on('click', function () {\n\n      // Remove active class from all buttons\n      d3v3.selectAll('.button').classed('active', false);\n      // Find the button just clicked\n      var button = d3v3.select(this);\n\n      // Set it as the active button\n      button.classed('active', true);\n\n      // Get the id of the button\n      var buttonId = button.attr('id');\n\n      // Toggle the bubble chart based on\n      // the currently clicked button.\n      myBubbleChart.toggleDisplay(buttonId);\n    });\n  }\n\n  // Load the data.\n  d3v3.csv('assets/new_small3.csv', display);\n\n  // setup the buttons.\n  setupButtons();\n}\n\nexports.default = { init: init, resize: resize };//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvanMvbmV3X3Rlc3QuanM/ZTI4MiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBEMyBpcyBpbmNsdWRlZCBieSBnbG9iYWxseSBieSBkZWZhdWx0XG5cbmZ1bmN0aW9uIHJlc2l6ZSgpIHt9XG5cbmZ1bmN0aW9uIGluaXQoKSB7XG5cdGNvbnNvbGUubG9nKCduZXd0ZXN0LmpzIGZvdW5kIScpO1xuXG5cblxuLypcbiAqIENyZWF0ZXMgdG9vbHRpcCB3aXRoIHByb3ZpZGVkIGlkIHRoYXRcbiAqIGZsb2F0cyBvbiB0b3Agb2YgdmlzdWFsaXphdGlvbi5cbiAqIE1vc3Qgc3R5bGluZyBpcyBleHBlY3RlZCB0byBjb21lIGZyb20gQ1NTXG4gKiBzbyBjaGVjayBvdXQgYnViYmxlX2NoYXJ0LmNzcyBmb3IgbW9yZSBkZXRhaWxzLlxuICovXG5mdW5jdGlvbiBmbG9hdGluZ1Rvb2x0aXAodG9vbHRpcElkLCB3aWR0aCkge1xuICAvLyBMb2NhbCB2YXJpYWJsZSB0byBob2xkIHRvb2x0aXAgZGl2IGZvclxuICAvLyBtYW5pcHVsYXRpb24gaW4gb3RoZXIgZnVuY3Rpb25zLlxuICB2YXIgdHQgPSBkM3YzLnNlbGVjdCgnYm9keScpXG4gICAgLmFwcGVuZCgnZGl2JylcbiAgICAuYXR0cignY2xhc3MnLCAndG9vbHRpcCcpXG4gICAgLmF0dHIoJ2lkJywgdG9vbHRpcElkKVxuICAgIC5zdHlsZSgncG9pbnRlci1ldmVudHMnLCAnbm9uZScpO1xuXG4gIC8vIFNldCBhIHdpZHRoIGlmIGl0IGlzIHByb3ZpZGVkLlxuICBpZiAod2lkdGgpIHtcbiAgICB0dC5zdHlsZSgnd2lkdGgnLCB3aWR0aCk7XG4gIH1cblxuICAvLyBJbml0aWFsbHkgaXQgaXMgaGlkZGVuLlxuICBoaWRlVG9vbHRpcCgpO1xuXG4gIC8qXG4gICAqIERpc3BsYXkgdG9vbHRpcCB3aXRoIHByb3ZpZGVkIGNvbnRlbnQuXG4gICAqXG4gICAqIGNvbnRlbnQgaXMgZXhwZWN0ZWQgdG8gYmUgSFRNTCBzdHJpbmcuXG4gICAqXG4gICAqIGV2ZW50IGlzIGQzdjMuZXZlbnQgZm9yIHBvc2l0aW9uaW5nLlxuICAgKi9cbiAgZnVuY3Rpb24gc2hvd1Rvb2x0aXAoY29udGVudCwgZXZlbnQpIHtcbiAgICB0dC5zdHlsZSgnb3BhY2l0eScsIDEuMClcbiAgICAgIC5odG1sKGNvbnRlbnQpO1xuXG4gICAgdXBkYXRlUG9zaXRpb24oZXZlbnQpO1xuICB9XG5cbiAgLypcbiAgICogSGlkZSB0aGUgdG9vbHRpcCBkaXYuXG4gICAqL1xuICBmdW5jdGlvbiBoaWRlVG9vbHRpcCgpIHtcbiAgICB0dC5zdHlsZSgnb3BhY2l0eScsIDAuMCk7XG4gIH1cblxuICAvKlxuICAgKiBGaWd1cmUgb3V0IHdoZXJlIHRvIHBsYWNlIHRoZSB0b29sdGlwXG4gICAqIGJhc2VkIG9uIGQzIG1vdXNlIGV2ZW50LlxuICAgKi9cbiAgZnVuY3Rpb24gdXBkYXRlUG9zaXRpb24oZXZlbnQpIHtcbiAgICB2YXIgeE9mZnNldCA9IDIwO1xuICAgIHZhciB5T2Zmc2V0ID0gMTA7XG5cbiAgICB2YXIgdHR3ID0gdHQuc3R5bGUoJ3dpZHRoJyk7XG4gICAgdmFyIHR0aCA9IHR0LnN0eWxlKCdoZWlnaHQnKTtcblxuICAgIHZhciB3c2NyWSA9IHdpbmRvdy5zY3JvbGxZO1xuICAgIHZhciB3c2NyWCA9IHdpbmRvdy5zY3JvbGxYO1xuXG4gICAgdmFyIGN1clggPSAoZG9jdW1lbnQuYWxsKSA/IGV2ZW50LmNsaWVudFggKyB3c2NyWCA6IGV2ZW50LnBhZ2VYO1xuICAgIHZhciBjdXJZID0gKGRvY3VtZW50LmFsbCkgPyBldmVudC5jbGllbnRZICsgd3NjclkgOiBldmVudC5wYWdlWTtcbiAgICB2YXIgdHRsZWZ0ID0gKChjdXJYIC0gd3NjclggKyB4T2Zmc2V0ICogMiArIHR0dykgPiB3aW5kb3cuaW5uZXJXaWR0aCkgP1xuICAgICAgICAgICAgICAgICBjdXJYIC0gdHR3IC0geE9mZnNldCAqIDIgOiBjdXJYICsgeE9mZnNldDtcblxuICAgIGlmICh0dGxlZnQgPCB3c2NyWCArIHhPZmZzZXQpIHtcbiAgICAgIHR0bGVmdCA9IHdzY3JYICsgeE9mZnNldDtcbiAgICB9XG5cbiAgICB2YXIgdHR0b3AgPSAoKGN1clkgLSB3c2NyWSArIHlPZmZzZXQgKiAyICsgdHRoKSA+IHdpbmRvdy5pbm5lckhlaWdodCkgP1xuICAgICAgICAgICAgICAgIGN1clkgLSB0dGggLSB5T2Zmc2V0ICogMiA6IGN1clkgKyB5T2Zmc2V0O1xuXG4gICAgaWYgKHR0dG9wIDwgd3NjclkgKyB5T2Zmc2V0KSB7XG4gICAgICB0dHRvcCA9IGN1clkgKyB5T2Zmc2V0O1xuICAgIH1cblxuICAgIHR0LnN0eWxlKHsgdG9wOiB0dHRvcCArICdweCcsIGxlZnQ6IHR0bGVmdCArICdweCcgfSk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHNob3dUb29sdGlwOiBzaG93VG9vbHRpcCxcbiAgICBoaWRlVG9vbHRpcDogaGlkZVRvb2x0aXAsXG4gICAgdXBkYXRlUG9zaXRpb246IHVwZGF0ZVBvc2l0aW9uXG4gIH07XG59XG5cblxuXG5mdW5jdGlvbiBidWJibGVDaGFydCgpIHtcblxuICAvLyB2YXIgc2VhcmNoQmFyID0gZDN2My5zZWxlY3QoJ2JvZHknKS5hcHBlbmQoXCJkaXZcIikuYXR0cihcImNsYXNzXCIsIFwiU2VhcmNoQmFyXCIpO1xuICB2YXIgc2VhcmNoQmFyID0gZDN2My5zZWxlY3QoJy5TZWFyY2hCYXInKTtcblxuICB2YXIgbWFyZ2luID0ge3RvcDogMjAsIGJvdHRvbTogMjAsIGxlZnQ6IDIwLCByaWdodDogMjB9O1xuICB2YXIgd2lkdGggPSAxMTAwIC0gbWFyZ2luLmxlZnQgLSBtYXJnaW4ucmlnaHQ7XG4gIHZhciBoZWlnaHQgPSA2NTAgLSBtYXJnaW4udG9wIC0gbWFyZ2luLmJvdHRvbTtcblxuICAvLyB0b29sdGlwIGZvciBtb3VzZW92ZXIgZnVuY3Rpb25hbGl0eVxuICB2YXIgdG9vbHRpcCA9IGZsb2F0aW5nVG9vbHRpcCgnYnViYmxlX3Rvb2x0aXAnLCAyNDApO1xuXG4gIC8vIERFRklORSBDRU5URVJTIEZPUiBUT0dHTEUgT1BUSU9OU1xuICB2YXIgY2VudGVyID0geyB4OiB3aWR0aCAvIDIsIHk6IGhlaWdodCAvIDIgfTtcblxuICB2YXIgdXNlQ2VudGVycyA9IHtcbiAgICAnbG93ZXN0Jzoge3g6IDIwMCArIDMwLCB5OmhlaWdodCAvMn0sXG4gICAgJ2xvdyc6IHsgeDogMjg1ICsgMzAsIHk6IGhlaWdodCAvIDIgfSxcbiAgICAnbWVkaXVtLWxvd2VyJzogeyB4OiAzNzUgKyAzMCwgeTogaGVpZ2h0IC8gMiB9LFxuICAgICdtZWRpdW0tbG93JzogeyB4OiA1MzAgKyAzMCwgeTogaGVpZ2h0IC8gMiB9LFxuICAgICdtZWRpdW0nOiB7IHg6IDU5NSArIDMwLCB5OiBoZWlnaHQgLyAyIH0sXG4gICAgJ2hpZ2gnOiB7IHg6IDY2MCArIDMwLCB5OiBoZWlnaHQgLyAyIH1cbiAgfTtcblxuICB2YXIgdXNlVGl0bGVYID0ge1xuICAgICcnOiAyMDAgKyAzMCxcbiAgICAnJzogMzc1ICsgMzAsXG4gICAgJyc6IDU2MCArIDMwLFxuICAgICcnOiA2MDAgKyAzMCxcbiAgICAnJzogNzgwICsgMzBcbiAgfTtcblxuICB2YXIgZ2VucmVDZW50ZXJzID0ge1xuICAgICdDbGFzc2ljIFJvY2snOiB7IHg6IHdpZHRoLzcgKyA4MCArIDMwLCB5OiBoZWlnaHQgLyAyIC0gNTB9LFxuICAgICdJbmRpZS9BbHRlcm5hdGl2ZSc6IHsgeDogd2lkdGgvNyArIDgwICsgMzAsIHk6IDQ1MCB9LFxuICAgICdIaXAgSG9wJzogeyB4OiB3aWR0aC83KjIuOCAtIDYwICsgMzAsIHk6IGhlaWdodCAvIDIgLSA1MH0sXG4gICAgJ0VsZWN0cm9uaWMnOiB7IHg6IHdpZHRoLzcqMi44IC0gNjAgKyAzMCwgeTogNDUwIH0sXG4gICAgJ1B1bmsnOiB7IHg6IHdpZHRoLzcqNCAtIDMwLCB5OiBoZWlnaHQgLyAyIC0gNTB9LFxuICAgICdNZXRhbCc6IHsgeDogd2lkdGgvNyo0IC0gOTAgKyAzMCwgeTogNDUwIH0sXG4gICAgJ090aGVyJzogeyB4OiB3aWR0aC83KjUgLSA3NSArIDMwLCB5OiBoZWlnaHQgLyAyIC0gNzV9LFxuICAgICdKYXp6L1NvdWwnOiB7IHg6IHdpZHRoLzcqNSAtIDc1ICsgMzAsIHk6IDQ1MH0sXG4gICAgJ1JvY2snOiB7IHg6IHdpZHRoLzcqNSAtIDc1ICsgNTAsIHk6IGhlaWdodCAvIDIgLSA3NX1cbiAgfTtcblxuICB2YXIgZ2VucmVUaXRsZVggPSB7XG4gICAgJ0NsYXNzaWMgUm9jayc6IHdpZHRoLzcgLSAzMCArIDMwLFxuICAgICdJbmRpZS9BbHRlcm5hdGl2ZSc6IHdpZHRoLzcgLSAzMCArIDMwLFxuICAgICdIaXAgSG9wJzogd2lkdGgvNyoyLjUgKyAzMCxcbiAgICAnRWxlY3Ryb25pYyc6IHdpZHRoLzcgKiAyLjUgKyAzMCxcbiAgICAnUHVuayc6IHdpZHRoLzcqNCArIDEwLFxuICAgICdNZXRhbCc6IHdpZHRoLzcgKiA0ICsgMTAsXG4gICAgJ090aGVyJzogd2lkdGgvNyAqIDUuMSArIDUwLFxuICAgICdKYXp6L1NvdWwnOiB3aWR0aC83ICogNS4xICsgNTAsXG4gICAgLy8gJ1JvY2snOiB3aWR0aC83ICogNS4xICsgNzAsXG5cbiAgfTtcblxuICB2YXIgZ2VucmVUaXRsZVkgPSB7XG4gICAgJ0NsYXNzaWMgUm9jayc6IDU1LFxuICAgICdJbmRpZS9BbHRlcm5hdGl2ZSc6IDQzMCxcbiAgICAnSGlwIEhvcCc6IDU1LFxuICAgICdFbGVjdHJvbmljJzogNDMwLFxuICAgICdQdW5rJzogNTUsXG4gICAgJ01ldGFsJzogNDMwLFxuICAgICdPdGhlcic6IDU1LFxuICAgICdKYXp6L1NvdWwnOiA0MzAsXG4gICAgLy8gJ1JvY2snOiA1NVxuXG4gIH07XG5cbiAgLy8gVXNlZCB3aGVuIHNldHRpbmcgdXAgZm9yY2UgYW5kXG4gIC8vIG1vdmluZyBhcm91bmQgbm9kZXNcbiAgdmFyIGRhbXBlciA9IDAuMTAyO1xuXG4gIC8vIFRoZXNlIHdpbGwgYmUgc2V0IGluIGNyZWF0ZV9ub2RlcyBhbmQgY3JlYXRlX3Zpc1xuICB2YXIgc3ZnID0gbnVsbDtcbiAgdmFyIGJ1YmJsZXMgPSBudWxsO1xuICB2YXIgbm9kZXMgPSBbXTtcblxuICB2YXIgbGFiZWxfYXJyYXkgPSBbXTtcbiAgdmFyIGFuY2hvcl9hcnJheSA9IFtdO1xuXG4gIC8vIEZ1bmN0aW9uIHRvIHJlcGVsIG5vZGVzXG4gIGZ1bmN0aW9uIGNoYXJnZShkKSB7XG4gICAgcmV0dXJuIC1NYXRoLnBvdyhkLnJhZGl1cywgMikgLyA4O1xuICB9XG5cbiAgLy8gSW5pdGlhbGl6ZSBhbmQgY29uZmlndXJlIGZvcmNlIGxheW91dFxuICBjb25zb2xlLmxvZyhkM3YzLnZlcnNpb24pO1xuICB2YXIgZm9yY2UgPSBkM3YzLmxheW91dC5mb3JjZSgpXG4gICAgLnNpemUoW3dpZHRoLCBoZWlnaHRdKVxuICAgIC5jaGFyZ2UoY2hhcmdlKVxuICAgIC5ncmF2aXR5KC0wLjAxKVxuICAgIC5mcmljdGlvbigwLjkpO1xuXG4gIC8vIFNjYWxlIGZvciBub2RlIGNvbG9yc1xuICB2YXIgYnViYmxlQ29sb3IgPSBkM3YzLnNjYWxlLm9yZGluYWwoKVxuICAgIC5kb21haW4oWydDbGFzc2ljIFJvY2snLCAnUHVuaycsICdJbmRpZS9BbHRlcm5hdGl2ZScsICdNZXRhbCcsICdIaXAgSG9wJywgJ0VsZWN0cm9uaWMnLCAnSmF6ei9Tb3VsJywgJ1JvY2snXSlcbiAgICAucmFuZ2UoWycjZmJiNGFlJywgJyNmZGRhZWMnLCAnI2NjZWJjNScsICcjZGVjYmU0JywgJyNmZWQ5YTYnLCAnI2ZmZmZjYycsJyNiM2NkZTMnLCAncmVkJywgJyNmMmYyZjInXSk7XG5cbiAgLy8gU2NhbGUgZm9yIG5vZGUgc2l6ZXNcbiAgdmFyIHJhZGl1c1NjYWxlID0gZDN2My5zY2FsZS5wb3coKVxuICAgIC5leHBvbmVudCgxLjgpICAvLyBleHBvbmVudCBtYWtlcyB0aGUgZ3JhcGggJ3RpZ2h0ZXInXG4gICAgLnJhbmdlKFs4LCA2Ml0pO1xuXG4gIFxuICAgLy8gRnVuY3Rpb250IHRvIGNvbnZlcnQgY3N2IGRhdGEgdG8gYXJyYXkgb2Ygbm9kZSBvYmplY3RzXG4gIGZ1bmN0aW9uIGNyZWF0ZU5vZGVzKHJhd0RhdGEpIHtcblxuICAgIHZhciBteU5vZGVzID0gcmF3RGF0YS5tYXAoZnVuY3Rpb24gKGQpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlkOiBkLmlkLFxuICAgICAgICByYWRpdXM6IHJhZGl1c1NjYWxlKCtkLmFydGlzdF90b3RhbCksXG4gICAgICAgIHZhbHVlOiBkLmFydGlzdF90b3RhbCxcbiAgICAgICAgbmFtZTogZC5hcnRpc3QsXG4gICAgICAgIGdyb3VwOiBkLmdyb3VwLFxuICAgICAgICBnZW5yZTogZC5nZW5yZSxcbiAgICAgICAgYXJ0OiBkLmFsYnVtX2FydF91cmwsXG4gICAgICAgIHg6IE1hdGgucmFuZG9tKCkgKiA5MDAsXG4gICAgICAgIHk6IE1hdGgucmFuZG9tKCkgKiA4MDBcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICAvLyBzb3J0IG5vZGVzIHByZXZlbnQgb2NjbHVzaW9uIG9mIHNtYWxsZXIgbm9kZXMuXG4gICAgbXlOb2Rlcy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBiLnZhbHVlIC0gYS52YWx1ZTsgfSk7XG5cbiAgICByZXR1cm4gbXlOb2RlcztcbiAgfVxuXG4gICAvLyBGdW5jdGlvbiB0byBwcmVwYXJlIHRoZSByYXdEYXRhIGZvciB2aXN1YWxpemF0aW9uIGFuZCBhZGQgYW4gc3ZnIGVsZW1lbnRcbiAgIC8vIHRvIHRoZSBwcm92aWRlZCBzZWxlY3RvciBhbmQgc3RhcnRzIHRoZSB2aXN1YWxpemF0aW9uIGNyZWF0aW9uIHByb2Nlc3MuXG4gIHZhciBjaGFydCA9IGZ1bmN0aW9uIGNoYXJ0KHNlbGVjdG9yLCByYXdEYXRhKSB7XG4gICAgLy8gVXNlIHRoZSBtYXggdG90YWxfYW1vdW50IGluIHRoZSBkYXRhIGFzIHRoZSBtYXggaW4gdGhlIHNjYWxlJ3MgZG9tYWluXG4gICAgLy8gbm90ZSB3ZSBoYXZlIHRvIGVuc3VyZSB0aGUgdG90YWxfYW1vdW50IGlzIGEgbnVtYmVyIGJ5IGNvbnZlcnRpbmcgaXRcbiAgICAvLyB3aXRoIGArYC5cbiAgICB2YXIgbWF4QW1vdW50ID0gZDN2My5tYXgocmF3RGF0YSwgZnVuY3Rpb24gKGQpIHsgcmV0dXJuICtkLmFydGlzdF90b3RhbDsgfSk7XG4gICAgcmFkaXVzU2NhbGUuZG9tYWluKFswLCBtYXhBbW91bnRdKTtcblxuICAgIG5vZGVzID0gY3JlYXRlTm9kZXMocmF3RGF0YSk7XG4gICAgLy8gU2V0IHRoZSBmb3JjZSdzIG5vZGVzIHRvIG91ciBuZXdseSBjcmVhdGVkIG5vZGVzIGFycmF5LlxuICAgIGZvcmNlLm5vZGVzKG5vZGVzKTtcblxuICAgIC8vIENyZWF0ZSBhIFNWRyBlbGVtZW50IGluc2lkZSB0aGUgcHJvdmlkZWQgc2VsZWN0b3JcbiAgICAvLyB3aXRoIGRlc2lyZWQgc2l6ZS5cbiAgICBzdmcgPSBkM3YzLnNlbGVjdChzZWxlY3RvcilcbiAgICAgIC5hcHBlbmQoJ3N2ZycpXG4gICAgICAuYXR0cignd2lkdGgnLCB3aWR0aCArIG1hcmdpbi5yaWdodCArIG1hcmdpbi5sZWZ0KVxuICAgICAgLmF0dHIoJ2hlaWdodCcsIGhlaWdodCArIG1hcmdpbi50b3AgKyBtYXJnaW4uYm90dG9tKTtcblxuICAgIC8vIEJpbmQgbm9kZXMgZGF0YSB0byB3aGF0IHdpbGwgYmVjb21lIERPTSBlbGVtZW50cyB0byByZXByZXNlbnQgdGhlbS5cbiAgICBidWJibGVzPSBzdmcuc2VsZWN0QWxsKCdidWJibGUnKVxuICAgICAgLmRhdGEobm9kZXMsIGZ1bmN0aW9uIChkKSB7IHJldHVybiBkLmlkOyB9KVxuICAgICAgLmVudGVyKClcbiAgICAgIC5hcHBlbmQoJ2NpcmNsZScpXG4gICAgICAuYXR0cignY2xhc3MnLCAnYnViYmxlJylcbiAgICAgIC5hdHRyKCdyJywgMClcbiAgICAgIC5hdHRyKCdmaWxsJywgZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGJ1YmJsZUNvbG9yKGQuZ2VucmUpOyB9KVxuICAgICAgLmF0dHIoJ3N0cm9rZScsIGZ1bmN0aW9uIChkKSB7IHJldHVybiBkM3YzLnJnYihidWJibGVDb2xvcihkLmdlbnJlKSkuZGFya2VyKCk7IH0pXG4gICAgICAuYXR0cignc3Ryb2tlLXdpZHRoJywgMC41KVxuICAgICAgLm9uKCdtb3VzZW92ZXInLCBzaG93RGV0YWlsKVxuICAgICAgLm9uKCdtb3VzZW91dCcsIGhpZGVEZXRhaWwpXG4gICAgICAuY2FsbChmb3JjZS5kcmFnKTtcblxuICAgICBjb25zb2xlLmxvZyhub2Rlcyk7XG5cbiAgICB2YXIgdGV4dCA9IHN2Zy5zZWxlY3RBbGwoXCJ0ZXh0LmJ1YmJsZS1sYWJlbFwiKSAgICBcbiAgICAgLmRhdGEobm9kZXMsIGZ1bmN0aW9uIChkKSB7IHJldHVybiBkLmlkOyB9KVxuICAgICAgICAuZW50ZXIoKVxuICAgICAgICAuYXBwZW5kKFwidGV4dFwiKVxuICAgICAgICAuYXR0cihcImNsYXNzXCIsIFwiYnViYmxlLWxhYmVsXCIpXG4gICAgICAgIC50ZXh0KGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgICBpZiAoZC52YWx1ZSA8IDE1KSB7XG4gICAgICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGQubmFtZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG5cblxuICAgIC8vIFRyYW5zaXRpb24gdG8gZmlsbCBidWJibGVub2Rlc1xuICAgIGJ1YmJsZXMudHJhbnNpdGlvbigpXG4gICAgICAuZHVyYXRpb24oNDAwMClcbiAgICAgIC5hdHRyKCdyJywgZnVuY3Rpb24gKGQpIHtyZXR1cm4gZC5yYWRpdXM7IH0pO1xuXG4gICAgLy8gU2V0IGluaXRpYWwgbGF5b3V0IHRvIGdlbnJlIGdyb3VwLlxuICAgIHNwbGl0QnViYmxlc0dlbnJlKCk7XG5cbi8vIFNlYXJjaFxuXG5cbiAgfTtcblxuICBkM3YzLnNlbGVjdChcIi5TZWFyY2hCYXJcIilcbiAgICAuYXBwZW5kKFwiaW5wdXRcIilcbiAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJTZWFyY2hCYXJcIilcbiAgICAgIC5hdHRyKFwiaWRcIiwgXCJzZWFyY2hcIilcbiAgICAgIC5hdHRyKFwidHlwZVwiLCBcInRleHRcIilcbiAgICAgIC5hdHRyKFwicGxhY2Vob2xkZXJcIiwgXCJTZWFyY2guLi5cIik7XG5cbiAgZDN2My5zZWxlY3QoXCIjc2VhcmNoXCIpXG4gICAgICAub24oXCJrZXl1cFwiLCBmdW5jdGlvbihldmVudCkgeyBcblxuICAgICAgICB2YXIgc2VhcmNoZWRfZGF0YSA9IG5vZGVzLFxuICAgICAgICAgICAgdGV4dCA9IHRoaXMudmFsdWUudHJpbSgpO1xuICAgICAgICBpZiAodGV4dCAhPSBcIlwiICYgdGV4dCAhPSBcIm5vbmVcIikge1xuXG4gICAgICAgICAgICB2YXIgc2VhcmNoUmVzdWx0cyA9IHNlYXJjaGVkX2RhdGEubWFwKGZ1bmN0aW9uKHIpIHtcbiAgICAgICAgICAgIHZhciByZWdleCA9IG5ldyBSZWdFeHAoXCJeXCIgKyB0ZXh0ICsgXCIuKlwiLCBcImlcIik7XG4gICAgICAgICAgICBpZiAocmVnZXgudGVzdChyLm5hbWUpKSB7IC8vIGlmIHRoZXJlIGFyZSBhbnkgcmVzdWx0c1xuICAgICAgICAgICAgICByZXR1cm4gcmVnZXguZXhlYyhyLm5hbWUpWzBdOyAvLyByZXR1cm4gdGhlbSB0byBzZWFyY2hSZXN1bHRzXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgLy8gZmlsdGVyIGJsYW5rIGVudHJpZXMgZnJvbSBzZWFyY2hSZXN1bHRzXG4gICAgICAgICAgc2VhcmNoUmVzdWx0cyA9IHNlYXJjaFJlc3VsdHMuZmlsdGVyKGZ1bmN0aW9uKHIpeyBcbiAgICAgICAgICAgIHJldHVybiByICE9IHVuZGVmaW5lZDtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICAvLyBmaWx0ZXIgZGF0YXNldCB3aXRoIHNlYXJjaFJlc3VsdHNcbiAgICAgICAgICBzZWFyY2hlZF9kYXRhID0gc2VhcmNoUmVzdWx0cy5tYXAoZnVuY3Rpb24ocikge1xuICAgICAgICAgICAgIHJldHVybiBub2Rlcy5maWx0ZXIoZnVuY3Rpb24ocCkge1xuICAgICAgICAgICAgICByZXR1cm4gcC5uYW1lLmluZGV4T2YocikgIT0gLTE7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIC8vIGZsYXR0ZW4gYXJyYXkgXG4gICAgICAgICAgc2VhcmNoZWRfZGF0YSA9IFtdLmNvbmNhdC5hcHBseShbXSwgc2VhcmNoZWRfZGF0YSk7IC8vIFRoaXMgZmluZHMgdGhlIGRhdGEgd2Ugd2FudFxuXG4gICAgICAgICAgICAvLyBkYXRhIGJpbmQgd2l0aCBuZXcgZGF0YVxuICAgICAgICAgIHNlbGJ1YmJsZXMgPSBidWJibGVzLmRhdGEoc2VhcmNoZWRfZGF0YSwgZnVuY3Rpb24oZCl7IHJldHVybiBkLm5hbWV9KTtcblxuICAgICAgICAgIC8vIFN0eWxlIHNlbGVjdCBub2Rlc1xuICAgICAgICAgIHNlbGJ1YmJsZXNcbiAgICAgICAgICAgIC5zdHlsZSgnb3BhY2l0eScsIC43NSlcbiAgICAgICAgICAgIC5hdHRyKCdzdHJva2Utd2lkdGgnLCAzKVxuICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZScsICdibGFjaycpO1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZDN2My5zZWxlY3RBbGwoJy5idWJibGUnKVxuICAgICAgICAgICAgLnN0eWxlKFwib3BhY2l0eVwiLCAxKVxuICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZS13aWR0aCcsIC41KVxuICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZScsIGZ1bmN0aW9uIChkKSB7IHJldHVybiBkM3YzLnJnYihidWJibGVDb2xvcihkLmdlbnJlKSkuZGFya2VyKCk7IH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgc2VsYnViYmxlc1xuICAgICAgICAuZXhpdCgpXG4gICAgICAgICAgICAuc3R5bGUoXCJvcGFjaXR5XCIsIDEpXG4gICAgICAgICAgICAuYXR0cignc3Ryb2tlLXdpZHRoJywgLjUpXG4gICAgICAgICAgICAuYXR0cignc3Ryb2tlJywgZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGQzdjMucmdiKGJ1YmJsZUNvbG9yKGQuZ2VucmUpKS5kYXJrZXIoKTsgfSk7XG4gICAgICAgICAgXG4gICAgICBcblxuICAgICAgfSk7XG5cblxuICBmdW5jdGlvbiBzcGxpdEJ1YmJsZXNVc2UoKSB7XG4gICAgaGlkZUdlbnJlKCk7XG4gICAgc2hvd1VzZSgpO1xuXG4gICAgZm9yY2Uub24oJ3RpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgICAgYnViYmxlcy5lYWNoKG1vdmVUb1VzZShlLmFscGhhKSlcbiAgICAgICAgLmF0dHIoJ2N4JywgZnVuY3Rpb24gKGQpIHtyZXR1cm4gZC54OyB9KVxuICAgICAgICAuYXR0cignY3knLCBmdW5jdGlvbiAoZCkge3JldHVybiBkLnk7IH0pO1xuICAgICAgXG5cbiAgICAgIC8vIHRleHQuYXR0cihcInRyYW5zZm9ybVwiLCBmdW5jdGlvbihkKXsgXG5cbiAgICAgIC8vICAgbGFiZWxfYXJyYXkucHVzaCh7eDogZC54LCB5OiBkLnksIG5hbWU6IGQubmFtZSwgd2lkdGg6IDAuMCwgaGVpZ2h0OiAwLjB9KTtcbiAgICAgIC8vICAgYW5jaG9yX2FycmF5LnB1c2goe3g6IGQueCsuMSwgeTogZC55KzUsIHI6IGQucmFkaXVzfSk7XG4gICAgICAvLyAgIHJldHVybiBcInRyYW5zbGF0ZShcIisoZC54IC0gMTApK1wiLFwiK2QueStcIilcIjsgfSk7XG5cbiAgICB9KTtcblxuICAgIGZvcmNlLnN0YXJ0KCk7XG4gIC8vICAgZDN2My5sYWJlbGVyKClcbiAgLy8gICAubGFiZWwobGFiZWxfYXJyYXkpXG4gIC8vICAgLmFuY2hvcihhbmNob3JfYXJyYXkpXG4gIC8vICAgLndpZHRoKHcpXG4gIC8vICAgLmhlaWdodChoKVxuICAvLyAgIC5zdGFydCgxMDApO1xuICB9O1xuXG4gIGZ1bmN0aW9uIHNwbGl0QnViYmxlc0dlbnJlKCkge1xuICAgIGhpZGVVc2UoKTtcbiAgICBzaG93R2VucmUoKTtcblxuICAgIGZvcmNlLm9uKCd0aWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgIGJ1YmJsZXMuZWFjaChtb3ZlVG9HZW5yZShlLmFscGhhKSlcbiAgICAgICAgLmF0dHIoJ2N4JywgZnVuY3Rpb24gKGQpIHtyZXR1cm4gZC54OyB9KVxuICAgICAgICAuYXR0cignY3knLCBmdW5jdGlvbiAoZCkge3JldHVybiBkLnk7IH0pO1xuICAgICAgXG5cbiAgICAvLyB0ZXh0LmF0dHIoXCJ0cmFuc2Zvcm1cIiwgZnVuY3Rpb24oZCl7IFxuXG4gICAgLy8gICBsYWJlbF9hcnJheS5wdXNoKHt4OiBkLngsIHk6IGQueSwgbmFtZTogZC5uYW1lLCB3aWR0aDogMC4wLCBoZWlnaHQ6IDAuMH0pO1xuICAgIC8vICAgYW5jaG9yX2FycmF5LnB1c2goe3g6IGQueCwgeTogZC55LCByOiBkLnJhZGl1c30pO1xuICAgIC8vICAgcmV0dXJuIFwidHJhbnNsYXRlKFwiKyhkLnggLSAxMCkgK1wiLFwiK2QueStcIilcIjsgfSk7XG5cbiAgICB9KTtcblxuICAgIGZvcmNlLnN0YXJ0KCk7XG4gICAgLy8gZDN2My5sYWJlbGVyKClcbiAgICAvLyAubGFiZWwobGFiZWxfYXJyYXkpXG4gICAgLy8gLmFuY2hvcihhbmNob3JfYXJyYXkpXG4gICAgLy8gLndpZHRoKHcpXG4gICAgLy8gLmhlaWdodChoKVxuICAgIC8vIC5zdGFydCgxKTtcbiAgfTtcblxuXG4gIGZ1bmN0aW9uIG1vdmVUb1VzZShhbHBoYSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCkge1xuICAgICAgdmFyIHRhcmdldCA9IHVzZUNlbnRlcnNbZC5ncm91cF07XG4gICAgICBkLnggPSBkLnggKyAodGFyZ2V0LnggLSBkLngpICogZGFtcGVyICogYWxwaGEgKiAxLjE7XG4gICAgICBkLnkgPSBkLnkgKyAodGFyZ2V0LnkgLSBkLnkpICogZGFtcGVyICogYWxwaGEgKiAxLjE7XG4gICAgfTtcbiAgfTtcblxuICAvKlxuICAgKiBIaWRlcyBZZWFyIHRpdGxlIGRpc3BsYXlzLlxuICAgKi9cbiAgZnVuY3Rpb24gaGlkZVVzZSgpIHtcbiAgICBzdmcuc2VsZWN0QWxsKCcudGl0bGUnKS5yZW1vdmUoKTtcbiAgfTtcblxuICAvKlxuICAgKiBTaG93cyBZZWFyIHRpdGxlIGRpc3BsYXlzLlxuICAgKi9cbiAgZnVuY3Rpb24gc2hvd1VzZSgpIHtcbiAgICAvLyBBbm90aGVyIHdheSB0byBkbyB0aGlzIHdvdWxkIGJlIHRvIGNyZWF0ZVxuICAgIC8vIHRoZSB5ZWFyIHRleHRzIG9uY2UgYW5kIHRoZW4ganVzdCBoaWRlIHRoZW0uXG4gICAgdmFyIHVzZURhdGEgPSBkM3YzLmtleXModXNlVGl0bGVYKTtcbiAgICB2YXIgdXNlID0gc3ZnLnNlbGVjdEFsbCgnLmdyb3VwJylcbiAgICAgIC5kYXRhKHVzZURhdGEpO1xuXG4gICAgdXNlLmVudGVyKCkuYXBwZW5kKCd0ZXh0JylcbiAgICAgIC5hdHRyKCdjbGFzcycsICd0aXRsZScpXG4gICAgICAuYXR0cigneCcsIGZ1bmN0aW9uIChkKSB7IHJldHVybiB1c2VUaXRsZVhbZF07IH0pXG4gICAgICAuYXR0cigneScsIDQwKVxuICAgICAgLmF0dHIoJ3RleHQtYW5jaG9yJywgJ21pZGRsZScpXG4gICAgICAudGV4dChmdW5jdGlvbiAoZCkgeyByZXR1cm4gZDsgfSk7XG4gIH1cblxuXG4gIGZ1bmN0aW9uIG1vdmVUb0dlbnJlKGFscGhhKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkKSB7XG4gICAgICB2YXIgdGFyZ2V0ID0gZ2VucmVDZW50ZXJzW2QuZ2VucmVdO1xuICAgICAgZC54ID0gZC54ICsgKHRhcmdldC54IC0gZC54KSAqIGRhbXBlciAqIGFscGhhICogMS4xO1xuICAgICAgZC55ID0gZC55ICsgKHRhcmdldC55IC0gZC55KSAqIGRhbXBlciAqIGFscGhhICogMS4xO1xuICAgIH07XG4gIH1cblxuICAvKlxuICAgKiBIaWRlcyBZZWFyIHRpdGxlIGRpc3BsYXlzLlxuICAgKi9cbiAgZnVuY3Rpb24gaGlkZUdlbnJlKCkge1xuICAgIHN2Zy5zZWxlY3RBbGwoJy50aXRsZScpLnJlbW92ZSgpO1xuICB9XG5cbiAgLypcbiAgICogU2hvd3MgWWVhciB0aXRsZSBkaXNwbGF5cy5cbiAgICovXG4gIGZ1bmN0aW9uIHNob3dHZW5yZSgpIHtcbiAgICAvLyBBbm90aGVyIHdheSB0byBkbyB0aGlzIHdvdWxkIGJlIHRvIGNyZWF0ZVxuICAgIC8vIHRoZSB5ZWFyIHRleHRzIG9uY2UgYW5kIHRoZW4ganVzdCBoaWRlIHRoZW0uXG4gICAgdmFyIGdlbnJlRGF0YSA9IGQzdjMua2V5cyhnZW5yZVRpdGxlWCk7XG4gICAgdmFyIGdlbnJlID0gc3ZnLnNlbGVjdEFsbCgnLmdlbnJlJylcbiAgICAgIC5kYXRhKGdlbnJlRGF0YSk7XG5cbiAgICBnZW5yZS5lbnRlcigpLmFwcGVuZCgndGV4dCcpXG4gICAgICAuYXR0cignY2xhc3MnLCAndGl0bGUnKVxuICAgICAgLmF0dHIoJ3gnLCBmdW5jdGlvbiAoZCkgeyByZXR1cm4gZ2VucmVUaXRsZVhbZF07IH0pXG4gICAgICAuYXR0cigneScsIGZ1bmN0aW9uIChkKSB7IHJldHVybiBnZW5yZVRpdGxlWVtkXTsgfSlcbiAgICAgIC5hdHRyKCd0ZXh0LWFuY2hvcicsICdtaWRkbGUnKVxuICAgICAgLnRleHQoZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGQ7IH0pO1xuICB9XG5cblxuICAvKlxuICAgKiBGdW5jdGlvbiBjYWxsZWQgb24gbW91c2VvdmVyIHRvIGRpc3BsYXkgdGhlXG4gICAqIGRldGFpbHMgb2YgYSBidWJibGUgaW4gdGhlIHRvb2x0aXAuXG4gICAqL1xuICBmdW5jdGlvbiBzaG93RGV0YWlsKGQpIHtcbiAgICAvLyBjaGFuZ2Ugb3V0bGluZSB0byBpbmRpY2F0ZSBob3ZlciBzdGF0ZS5cbiAgICBkM3YzLnNlbGVjdCh0aGlzKS5hdHRyKCdzdHJva2UnLCAnYmxhY2snKVxuICAgICAgICAgICAgICAgICAgICAuYXR0cignc3Ryb2tlLXdpZHRoJywgMi40KVxuICAgICAgICAgICAgICAgICAgICAuc3R5bGUoJ29wYWNpdHknLCAuNzUpXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdyJywgZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGQucmFkaXVzICsgNTsgfSk7XG5cbiAgICB2YXIgY29udGVudCA9ICc8ZGl2IGNsYXNzPVwidHRpbWdcIj48aW1nIGNsYXNzPVwidG9vbHRpcGltYWdlXCIgc3JjPScgKyBkLmFydCArICd3aWR0aD1cIjYwXCIgaGVpZ2h0PVwiNjBcIj48L2Rpdj4nICtcbiAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwidHR0ZXh0XCI+PHNwYW4gY2xhc3M9XCJuYW1lXCI+QXJ0aXN0OiA8L3NwYW4+PHNwYW4gY2xhc3M9XCJ2YWx1ZVwiPicgK1xuICAgICAgICAgICAgICAgICAgZC5uYW1lICtcbiAgICAgICAgICAgICAgICAgICc8L3NwYW4+PGJyLz4nICtcbiAgICAgICAgICAgICAgICAgICc8c3BhbiBjbGFzcz1cIm5hbWVcIj5BbW91bnQgVXNlZDogPC9zcGFuPjxzcGFuIGNsYXNzPVwidmFsdWVcIj4nICtcbiAgICAgICAgICAgICAgICAgIGQudmFsdWUgK1xuICAgICAgICAgICAgICAgICAgJzwvc3Bhbj48YnIvPicgK1xuICAgICAgICAgICAgICAgICAgJzxzcGFuIGNsYXNzPVwibmFtZVwiPkdlbnJlOiA8L3NwYW4+PHNwYW4gY2xhc3M9XCJ2YWx1ZVwiPicgK1xuICAgICAgICAgICAgICAgICAgZC5nZW5yZSArXG4gICAgICAgICAgICAgICAgICAnPC9zcGFuPjxici8+PC9kaXY+JztcbiAgICB0b29sdGlwLnNob3dUb29sdGlwKGNvbnRlbnQsIGQzdjMuZXZlbnQpO1xuICB9XG5cbiAgLypcbiAgICogSGlkZXMgdG9vbHRpcFxuICAgKi9cbiAgZnVuY3Rpb24gaGlkZURldGFpbChkKSB7XG4gICAgLy8gcmVzZXQgb3V0bGluZVxuICAgIGQzdjMuc2VsZWN0KHRoaXMpXG4gICAgICAuYXR0cignc3Ryb2tlJywgZDN2My5yZ2IoYnViYmxlQ29sb3IoZC5nZW5yZSkpLmRhcmtlcigpKVxuICAgICAgLmF0dHIoJ3N0cm9rZS13aWR0aCcsIC41KVxuICAgICAgLnN0eWxlKCdvcGFjaXR5JywgMSlcbiAgICAgIC5hdHRyKCdmaWxsJywgZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGJ1YmJsZUNvbG9yKGQuZ2VucmUpOyB9KVxuICAgICAgLmF0dHIoJ3InLCBmdW5jdGlvbiAoZCkgeyByZXR1cm4gZC5yYWRpdXM7IH0pO1xuXG4gICAgdG9vbHRpcC5oaWRlVG9vbHRpcCgpO1xuICB9XG5cbiAgLypcbiAgICogRXh0ZXJuYWxseSBhY2Nlc3NpYmxlIGZ1bmN0aW9uICh0aGlzIGlzIGF0dGFjaGVkIHRvIHRoZVxuICAgKiByZXR1cm5lZCBjaGFydCBmdW5jdGlvbikuIEFsbG93cyB0aGUgdmlzdWFsaXphdGlvbiB0byB0b2dnbGVcbiAgICogYmV0d2VlbiBcInNpbmdsZSBncm91cFwiIGFuZCBcInNwbGl0IGJ5IHllYXJcIiBtb2Rlcy5cbiAgICpcbiAgICogZGlzcGxheU5hbWUgaXMgZXhwZWN0ZWQgdG8gYmUgYSBzdHJpbmcgYW5kIGVpdGhlciAneWVhcicgb3IgJ2FsbCcuXG4gICAqL1xuICBjaGFydC50b2dnbGVEaXNwbGF5ID0gZnVuY3Rpb24gKGRpc3BsYXlOYW1lKSB7XG4gICAgaWYgKGRpc3BsYXlOYW1lID09ICd1c2UnKSB7XG4gICAgICBzcGxpdEJ1YmJsZXNVc2UoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3BsaXRCdWJibGVzR2VucmUoKTtcbiAgICB9O1xuICB9O1xuXG5cbiAgLy8gcmV0dXJuIHRoZSBjaGFydCBmdW5jdGlvbiBmcm9tIGNsb3N1cmUuXG4gIHJldHVybiBjaGFydDtcbn1cblxuLypcbiAqIEJlbG93IGlzIHRoZSBpbml0aWFsaXphdGlvbiBjb2RlIGFzIHdlbGwgYXMgc29tZSBoZWxwZXIgZnVuY3Rpb25zXG4gKiB0byBjcmVhdGUgYSBuZXcgYnViYmxlIGNoYXJ0IGluc3RhbmNlLCBsb2FkIHRoZSBkYXRhLCBhbmQgZGlzcGxheSBpdC5cbiAqL1xuXG52YXIgbXlCdWJibGVDaGFydCA9IGJ1YmJsZUNoYXJ0KCk7XG5cbi8qXG4gKiBGdW5jdGlvbiBjYWxsZWQgb25jZSBkYXRhIGlzIGxvYWRlZCBmcm9tIENTVi5cbiAqIENhbGxzIGJ1YmJsZSBjaGFydCBmdW5jdGlvbiB0byBkaXNwbGF5IGluc2lkZSAjdmlzIGRpdi5cbiAqL1xuZnVuY3Rpb24gZGlzcGxheShlcnJvciwgZGF0YSkge1xuICBpZiAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gIH1cblxuICBteUJ1YmJsZUNoYXJ0KCcjdmlzJywgZGF0YSk7XG59XG5cbi8qXG4gKiBTZXRzIHVwIHRoZSBsYXlvdXQgYnV0dG9ucyB0byBhbGxvdyBmb3IgdG9nZ2xpbmcgYmV0d2VlbiB2aWV3IG1vZGVzLlxuICovXG5mdW5jdGlvbiBzZXR1cEJ1dHRvbnMoKSB7XG4gIGQzdjMuc2VsZWN0KCcjdG9vbGJhcicpXG4gICAgLnNlbGVjdEFsbCgnLmJ1dHRvbicpXG4gICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcblxuICAgICAgLy8gUmVtb3ZlIGFjdGl2ZSBjbGFzcyBmcm9tIGFsbCBidXR0b25zXG4gICAgICBkM3YzLnNlbGVjdEFsbCgnLmJ1dHRvbicpLmNsYXNzZWQoJ2FjdGl2ZScsIGZhbHNlKTtcbiAgICAgIC8vIEZpbmQgdGhlIGJ1dHRvbiBqdXN0IGNsaWNrZWRcbiAgICAgIHZhciBidXR0b24gPSBkM3YzLnNlbGVjdCh0aGlzKTtcblxuICAgICAgLy8gU2V0IGl0IGFzIHRoZSBhY3RpdmUgYnV0dG9uXG4gICAgICBidXR0b24uY2xhc3NlZCgnYWN0aXZlJywgdHJ1ZSk7XG5cbiAgICAgIC8vIEdldCB0aGUgaWQgb2YgdGhlIGJ1dHRvblxuICAgICAgdmFyIGJ1dHRvbklkID0gYnV0dG9uLmF0dHIoJ2lkJyk7XG5cbiAgICAgIC8vIFRvZ2dsZSB0aGUgYnViYmxlIGNoYXJ0IGJhc2VkIG9uXG4gICAgICAvLyB0aGUgY3VycmVudGx5IGNsaWNrZWQgYnV0dG9uLlxuICAgICAgbXlCdWJibGVDaGFydC50b2dnbGVEaXNwbGF5KGJ1dHRvbklkKTtcbiAgICB9KTtcbn1cblxuXG4vLyBMb2FkIHRoZSBkYXRhLlxuZDN2My5jc3YoJ2Fzc2V0cy9uZXdfc21hbGwzLmNzdicsIGRpc3BsYXkpO1xuXG4vLyBzZXR1cCB0aGUgYnV0dG9ucy5cbnNldHVwQnV0dG9ucygpO1xuXG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgeyBpbml0LCByZXNpemUgfTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvanMvbmV3X3Rlc3QuanMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTs7Ozs7O0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7OztBQU9BO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFHQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTkE7QUFDQTtBQVFBO0FBQ0E7QUFEQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFUQTtBQUNBO0FBV0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVZBO0FBQ0E7QUFZQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBVkE7QUFDQTtBQVlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFBQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVRBO0FBV0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUFBO0FBS0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBRUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUdBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUFBO0FBSUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUFBO0FBR0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUVBOzs7O0FBSUE7QUFDQTtBQUNBO0FBR0E7QUFBQTtBQUNBO0FBQ0E7QUFVQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBSUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7O0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FBS0E7QUFDQTtBQUNBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///6\n");

/***/ })
/******/ ]);